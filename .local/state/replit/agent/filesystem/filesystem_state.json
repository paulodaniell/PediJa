{"file_contents":{"src/main/java/br/com/pedija/superadm/model/Categoria.java":{"content":"package br.com.pedija.superadm.model;\n\npublic class Categoria {\n    private Integer id;\n    private String nome;\n    private String descricao;\n\n    public Categoria() {}\n\n    public Categoria(String nome, String descricao) {\n        this.nome = nome;\n        this.descricao = descricao;\n    }\n\n    // Getters e Setters\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getDescricao() {\n        return descricao;\n    }\n\n    public void setDescricao(String descricao) {\n        this.descricao = descricao;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"ID: %d | Nome: %s | Descri√ß√£o: %s\",\n                id, nome, descricao);\n    }\n}","size_bytes":887},"src/main/java/br/com/pedija/superadm/database/ConnectionFactory.java":{"content":"package br.com.pedija.superadm.database;\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\npublic interface ConnectionFactory {\n    Connection getConnection() throws SQLException;\n    void closeConnection(Connection connection) throws SQLException;\n}","size_bytes":260},"src/main/java/br/com/pedija/superadm/model/Entregador.java":{"content":"package br.com.pedija.superadm.model;\n\npublic class Entregador {\n    private int id;\n    private String nomeEntregador;;\n    private String telefone;\n    private String cpf;\n    private String veiculo;\n    private boolean disponivel;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getNomeEntregador() {\n        return nomeEntregador;\n    }\n\n    public void setNomeEntregador(String nomeEntregador) {\n        this.nomeEntregador = nomeEntregador;\n    }\n\n    public String getTelefone() {\n        return telefone;\n    }\n\n    public void setTelefone(String telefone) {\n        this.telefone = telefone;\n    }\n\n    public String getCpf() {\n        return cpf;\n    }\n\n    public void setCpf(String cpf) {\n        this.cpf = cpf;\n    }\n\n    public String getVeiculo() {\n        return veiculo;\n    }\n\n    public void setVeiculo(String veiculo) {\n        this.veiculo = veiculo;\n    }\n\n    public boolean isDisponivel() {\n        return disponivel;\n    }\n\n    public void setDisponivel(boolean disponivel) {\n        this.disponivel = disponivel;\n    }\n}\n","size_bytes":1131},"src/main/java/br/com/pedija/consumidor/controller/PedidoController.java":{"content":"package br.com.pedija.consumidor.controller;\n\n\nimport br.com.pedija.superadm.model.Pedido;\nimport br.com.pedija.superadm.model.Produto;\nimport br.com.pedija.superadm.dao.PedidoDAO;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class PedidoController {\n\n    PedidoDAO pedidoDAO = new PedidoDAO();\n\n    // revis√£o do pedido\n    public Pedido revisaopedido(List<Produto> produtos, int usuarioId, String nome, String endereco, String formaPagamento) {\n\n        Pedido p = new Pedido();\n\n        List<Produto> itens = new ArrayList<>();\n\n        for (Produto prod : produtos) {\n            Produto item = new Produto();\n            item.setId(prod.getId());\n            item.setNome(prod.getNome());\n            item.setPreco(prod.getPreco());\n            item.setQuantidade(1);\n            itens.add(item);\n        }\n\n        p.setItens(itens);\n\n        double total = itens.stream().mapToDouble(Produto::getPreco).sum();\n        p.setValorTotal(total);\n\n        p.setNomeCliente(nome);\n        p.setEndereco(endereco);\n        p.setFormaPagamento(formaPagamento);\n        p.setIdUsuario(usuarioId);\n\n        p.setStatus(\"Em Andamento\");\n\n        return p;\n    }\n\n\n    public void criarPedido(Pedido revisaopedido) {\n\n        pedidoDAO.criar(revisaopedido);\n\n    }\n\n    public Pedido buscarPorId(int id) {\n\n        return pedidoDAO.buscarPorId(id);\n\n    }\n\n    public boolean atualizarStaus(int id, String novoStatus) {\n        Pedido p = buscarPorId(id);\n\n        if (p != null) {\n\n            pedidoDAO.atualizar(p);\n\n            return true;\n        }\n\n        return false;\n    }\n\n\n\n    public List<Pedido> listarPendentes() {\n\n        return pedidoDAO.buscarPorStatus(\"PENDENTE\");\n\n\n    }\n\n\n    public List<Pedido> listarEmPreparo() {\n\n        return pedidoDAO.buscarPorStatus(\"EM PREPARO\");\n\n\n    }\n\n    public List<Pedido> listarEmEntrega() {\n\n        return pedidoDAO.buscarPorStatus(\"Em ENTREGA\");\n\n    }\n\n\n    public List<Pedido> listarProntos() {\n\n        return pedidoDAO.buscarPorStatus(\"PRONTO\");\n\n    }\n\n\n    public int contarPedidosPendentes() {\n        int contador = 0;\n\n\n        List<Pedido> prontos = listarPendentes();\n\n\n        for (Pedido p : prontos) {\n            contador++;\n        }\n        return contador;\n    }\n\n\n    public int contarPedidosEmPreparo() {\n        int contador = 0;\n\n\n        List<Pedido> prontos = listarEmPreparo();\n\n\n        for (Pedido p : prontos) {\n            contador++;\n        }\n        return contador;\n    }\n\n\n\n    public int contarPedidosProntos() {\n        int contador = 0;\n\n\n        List<Pedido> prontos = listarProntos();\n\n\n        for (Pedido p : prontos) {\n            contador++;\n        }\n        return contador;\n    }\n    public double calcularFaturamentoTotal(int idParceiro) {\n\n\n        double soma = 0.0;\n\n\n        List<Pedido> prontos = listarProntos();\n\n\n        for (Pedido p : prontos) {\n            soma += p.getValorTotal();\n        }\n        return soma;\n    }\n\n\n}\n\n\n","size_bytes":2959},"src/main/java/br/com/pedija/superadm/database/MySQLConnectionFactory.java":{"content":"/*\n\n\n\n\n\n\nEsse c√≥digo n√£o est√° em uso, \nest√° apenas como exemplo para altera√ß√£o do SGBD.\n\nBastaria alterar em DatabaseConnection:\n\nprivate static final ConnectionFactory connectionFactory = H2ConnectionFactory.getInstance();\n\npor:\n\nprivate static final ConnectionFactory connectionFactory = MySQLConnectionFactory.getInstance();\n\nExemplo cl√°ssico de desacoplamento\n\n*/\n\npackage br.com.pedija.superadm.database;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class MySQLConnectionFactory implements ConnectionFactory {\n    private static final String URL = \"jdbc:mysql://localhost:3306/lojinha\";\n    private static final String USER = \"root\";\n    private static final String PASSWORD = \"senha123\";\n\n    private static MySQLConnectionFactory instance;\n\n    private MySQLConnectionFactory() {}\n\n    public static MySQLConnectionFactory getInstance() {\n        if (instance == null) {\n            synchronized (MySQLConnectionFactory.class) {\n                if (instance == null) {\n                    instance = new MySQLConnectionFactory();\n                }\n            }\n        }\n        return instance;\n    }\n\n    @Override\n    public Connection getConnection() throws SQLException {\n        return DriverManager.getConnection(URL, USER, PASSWORD);\n    }\n\n    @Override\n    public void closeConnection(Connection connection) throws SQLException {\n        if (connection != null && !connection.isClosed()) {\n            connection.close();\n        }\n    }\n}","size_bytes":1516},"src/main/java/br/com/pedija/consumidor/view/MenuPrincipalConsumidorView.java":{"content":"package br.com.pedija.consumidor.view;\n\nimport br.com.pedija.consumidor.controller.CarrinhoController;\nimport br.com.pedija.consumidor.controller.PedidoController;\nimport br.com.pedija.consumidor.controller.UsuarioController;\nimport br.com.pedija.consumidor.view.perfil.TelaPerfil;\nimport br.com.pedija.superadm.model.Usuario;\nimport java.util.Scanner;\n\npublic class MenuPrincipalConsumidorView {\n\n    private final Scanner sc;\n    private final UsuarioController usuarioController;\n    private final CarrinhoController carrinho;\n    private final PedidoController pedidoController;\n    private final BuscaProdutoConsumidor buscaProdutoConsumidor;\n    private final TelaPromocoes telaPromocoes;\n\n    private Usuario usuarioLogado;\n\n    public MenuPrincipalConsumidorView(Usuario usuarioLogado) {\n        this.sc = new Scanner(System.in);\n        this.usuarioController = new UsuarioController();\n        this.carrinho = new CarrinhoController();\n        this.pedidoController = new PedidoController();\n        this.usuarioLogado = usuarioLogado;\n        this.buscaProdutoConsumidor = new BuscaProdutoConsumidor(carrinho);\n        this.telaPromocoes = new TelaPromocoes();\n    }\n\n    // ‚úÖ Permite reaproveitar o mesmo Scanner (caso queira compartilhar)\n    public MenuPrincipalConsumidorView(Usuario usuarioLogado, Scanner sc) {\n        this.sc = sc;\n        this.usuarioController = new UsuarioController();\n        this.carrinho = new CarrinhoController();\n        this.pedidoController = new PedidoController();\n        this.usuarioLogado = usuarioLogado;\n        this.buscaProdutoConsumidor = new BuscaProdutoConsumidor(carrinho);\n        this.telaPromocoes = new TelaPromocoes();\n    }\n\n    public void setUsuarioLogado(Usuario usuario) {\n        this.usuarioLogado = usuario;\n    }\n\n    public void exibirMenuCliente() {\n        int opcao = -1;\n\n        do {\n            System.out.println(\"------------------------------\");\n            System.out.println(\" 1 - Buscar Produtos\");\n            System.out.println(\" 2 - Ver Carrinho\");\n            System.out.println(\" 3 - Promo√ß√µes\");\n            System.out.println(\" 4 - Ver Pedidos\");\n            System.out.println(\" 5 - Ver Perfil\");\n            System.out.println(\" 0 - Sair\");\n            System.out.println(\"------------------------------\");\n\n            System.out.print(\"\\nEscolha uma op√ß√£o: \");\n\n            try {\n                String line = sc.nextLine().trim();\n                if (line.isEmpty()) continue;\n                opcao = Integer.parseInt(line);\n                resultadoOpcao(opcao);\n            } catch (NumberFormatException erro) {\n                System.out.println(\"Op√ß√£o inv√°lida! Digite apenas n√∫meros.\");\n            }\n\n        } while (opcao != 0);\n    }\n\n    private void resultadoOpcao(int opcao) {\n        switch (opcao) {\n            case 1 -> {\n                System.out.println(\"Buscar Produtos\");\n                buscaProdutoConsumidor.exibirbuscarProdutos();\n            }\n            case 2 -> {\n                System.out.println(\"Ver Carrinho\");\n                if (this.usuarioLogado == null) {\n                    System.out.println(\"Erro: usu√°rio n√£o logado!\");\n                    return;\n                }\n                TelaVerCarrinho telaCarrinho = new TelaVerCarrinho(carrinho, this.usuarioLogado, usuarioController);\n                telaCarrinho.verCarrinho();\n            }\n            case 3 -> {\n                System.out.println(\"Promo√ß√µes\");\n                telaPromocoes.verPromocoes();\n            }\n            case 4 -> {\n                System.out.println(\"Ver Pedidos\");\n                TelaPedidos telaPedidos = new TelaPedidos(this.pedidoController, this.usuarioLogado);\n                telaPedidos.verPedidos();\n            }\n            case 5 -> {\n                TelaPerfil telaPerfil = new TelaPerfil(this.usuarioLogado, this.usuarioController);\n                telaPerfil.verPerfil();\n            }\n            case 0 -> System.out.println(\"Saindo...\");\n            default -> System.out.println(\"Op√ß√£o inv√°lida!\");\n        }\n    }\n}\n","size_bytes":4082},"src/main/java/br/com/pedija/superadm/model/Usuario.java":{"content":"package br.com.pedija.superadm.model;\n\npublic class Usuario {\n    private int id;\n    private String email;\n    private String telefone;\n    private String cpf;\n    private String nome;\n    private String endereco;\n    private String formadepagamento;\n\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getTelefone() {\n        return telefone;\n    }\n\n    public void setTelefone(String telefone) {\n        this.telefone = telefone;\n    }\n\n    public String getCpf() {\n        return cpf;\n    }\n\n    public void setCpf(String cpf) {\n        this.cpf = cpf;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getEndereco() {\n        return endereco;\n    }\n\n    public void setEndereco(String endereco) {\n        this.endereco = endereco;\n    }\n\n    public String getFormadepagamento() {\n        return formadepagamento;\n    }\n\n    public void setFormadepagamento(String formadepagamento) {\n        this.formadepagamento = formadepagamento;\n    }\n}\n","size_bytes":1267},"src/main/java/br/com/pedija/parceiro/view/MenuPrincipalParceiro.java":{"content":"package br.com.pedija.parceiro.view;\n\nimport br.com.pedija.superadm.model.Parceiro;\nimport br.com.pedija.superadm.model.Usuario;\nimport java.util.Scanner;\n\npublic class MenuPrincipalParceiro {\n\n    private final Scanner sc;\n    private final Parceiro parceiro;\n\n    // Construtor padr√£o quando j√° vem um Parceiro\n    public MenuPrincipalParceiro(Parceiro parceiro) {\n        this.sc = new Scanner(System.in);\n        this.parceiro = parceiro;\n    }\n\n    // Construtor usado quando o login retorna um Usuario\n    public MenuPrincipalParceiro(Usuario usuariologado) {\n        this.sc = new Scanner(System.in);\n        this.parceiro = new Parceiro();\n        this.parceiro.setId(usuariologado.getId());\n        this.parceiro.setNome(usuariologado.getNome());\n    }\n\n    public void exibirMenuParceiro() {\n        int opcao = -1;\n\n        do {\n            System.out.println(\"\\n===== MENU PRINCIPAL PARCEIRO =====\");\n            System.out.println(\" 1 - Gerenciar Pedidos\");\n            System.out.println(\" 2 - Acompanhar Entrega\");\n            System.out.println(\" 3 - Gerenciar Card√°pio\");\n            System.out.println(\" 4 - Criar Promo√ß√£o\");\n            System.out.println(\" 5 - Relat√≥rio e Estat√≠sticas\");\n            System.out.println(\" 6 - Configura√ß√µes da Conta\");\n            System.out.println(\" 0 - Sair\");\n            System.out.println(\"-----------------------------------\");\n\n            System.out.print(\"\\nEscolha uma op√ß√£o: \");\n\n            try {\n                opcao = Integer.parseInt(sc.nextLine());\n                executarOpcao(opcao);\n            } catch (NumberFormatException e) {\n                System.out.println(\"‚ö†Ô∏è  Entrada inv√°lida! Digite apenas n√∫meros.\");\n            } catch (Exception e) {\n                System.out.println(\"‚ùå Erro inesperado: \" + e.getMessage());\n                e.printStackTrace();\n            }\n\n        } while (opcao != 0);\n    }\n\n    private void executarOpcao(int opcao) {\n        switch (opcao) {\n            case 1 -> {\n                System.out.println(\"‚û° Gerenciar Pedidos\");\n                TelaPedidosParceiro telaPedidos = new TelaPedidosParceiro(parceiro);\n                telaPedidos.exibirPedidos();\n            }\n            case 2 -> {\n                System.out.println(\"‚û° Acompanhar Entregas\");\n                TelaEntregasParceiro telaEntregas = new TelaEntregasParceiro(parceiro);\n                telaEntregas.menuEntregasParceiro();\n            }\n            case 3 -> {\n                System.out.println(\"‚û° Gerenciar Card√°pio\");\n                TelaProdutosParceiro telaProdutos = new TelaProdutosParceiro(parceiro, sc);\n                telaProdutos.exibirProdutos();\n            }\n            case 4 -> {\n                System.out.println(\"‚û° Criar Promo√ß√£o\");\n                TelaPromocaoParceiro telaPromocao = new TelaPromocaoParceiro(parceiro);\n                telaPromocao.menuPromocaoParceiro();\n            }\n            case 5 -> {\n                System.out.println(\"‚û° Relat√≥rio e Estat√≠sticas\");\n                TelaRelatorioParceiro telaRelatorio = new TelaRelatorioParceiro(parceiro);\n                telaRelatorio.menuRelatorio();\n            }\n            case 6 -> {\n                System.out.println(\"‚û° Configura√ß√µes da Conta\");\n                TelaPerfilParceiro telaPerfil = new TelaPerfilParceiro(parceiro);\n                telaPerfil.exibirPerfilParceiro();\n            }\n            case 0 -> System.out.println(\"üëã Saindo...\");\n            default -> System.out.println(\"‚ö†Ô∏è  Op√ß√£o inv√°lida!\");\n        }\n    }\n}\n","size_bytes":3565},"src/main/java/br/com/pedija/superadm/model/Pedido.java":{"content":"package br.com.pedija.superadm.model;\n\nimport br.com.pedija.superadm.model.Parceiro;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class Pedido {\n    private int id;\n    private String nomeCliente;\n    private int idClienteitens;\n    private double valorTotal;\n    private int idEntregador;\n    private String status;\n    private String endereco;\n    private String formaPagamento;\n    private int idParceiro;\n    private int idusuario;\n\n    private List<Produto> itens = new ArrayList<>();\n\n    //teste erro\n    // adiciona item e atualiza o total\n    public void addItem(Produto item) {\n        itens.add(item);\n        valorTotal += item.getPreco();\n    }\n//teste erro\n    public List<Produto> getItens() {\n        return itens;\n    }\n\n    public void setItens(List<Produto> itens) {\n        this.itens = itens;\n    }\n//teste erro\n\n    public int getIdUsuario() {\n        return idusuario;\n    }\n\n    public void setIdUsuario(int idUsuario) {\n        this.idusuario = idUsuario;\n    }\n\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getNomeCliente() {\n        return nomeCliente;\n    }\n\n    public void setNomeCliente(String nomeCliente) {\n        this.nomeCliente = nomeCliente;\n    }\n\n    public int getIdClienteitens() {\n        return idClienteitens;\n    }\n\n    public void setIdClienteitens(int idClienteitens) {\n        this.idClienteitens = idClienteitens;\n    }\n\n    public double getValorTotal() {\n        return valorTotal;\n    }\n\n    public void setValorTotal(double valoTotal) {\n        this.valorTotal = valoTotal;\n    }\n\n    public int getIdEntregador() {\n        return idEntregador;\n    }\n\n    public void setIdEntregador(int idEntregador) {\n        this.idEntregador = idEntregador;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getEndereco() {\n        return endereco;\n    }\n\n    public void setEndereco(String endereco) {\n        this.endereco = endereco;\n    }\n\n    public String getFormaPagamento() {\n        return formaPagamento;\n    }\n\n    public void setFormaPagamento(String formaPagamento) {\n        this.formaPagamento = formaPagamento;\n    }\n\n    public int getIdParceiro() {\n        return idParceiro;\n    }\n\n    public void setIdParceiro(int idParceiro) {\n        this.idParceiro = idParceiro;\n    }\n}\n","size_bytes":2456},"src/main/java/br/com/pedija/superadm/database/DatabaseConnection.java":{"content":"package br.com.pedija.superadm.database;\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class DatabaseConnection {\n    private static final ConnectionFactory connectionFactory = H2ConnectionFactory.getInstance();\n\n    public static Connection getConnection() throws SQLException {\n        return connectionFactory.getConnection();\n    }\n\n    public static void closeConnection(Connection connection) throws SQLException {\n        connectionFactory.closeConnection(connection);\n    }\n\n    public static void initDatabase() {\n\n        String createCategoriasSQL = \"\"\"\n            CREATE TABLE IF NOT EXISTS categorias (\n                id INT AUTO_INCREMENT PRIMARY KEY,\n                nome VARCHAR(100) NOT NULL,\n                descricao VARCHAR(255)\n            );\n        \"\"\";\n\n        String createProdutosSQL = \"\"\"\n            CREATE TABLE IF NOT EXISTS produtos (\n                id INT AUTO_INCREMENT PRIMARY KEY,\n                nome VARCHAR(100) NOT NULL,\n                descricao VARCHAR(255),\n                preco DECIMAL(10, 2) NOT NULL,\n                quantidade INT NOT NULL,\n                categoria_id INT,\n                idParceiro INT,\n                disponivel BOOLEAN DEFAULT TRUE,\n                FOREIGN KEY (idParceiro) REFERENCES Parceiro(id),\n                FOREIGN KEY (categoria_id) REFERENCES categorias(id)\n            );\n        \"\"\";\n\n        String createUsuarioSQL = \"\"\"\n        CREATE TABLE IF NOT EXISTS Usuario (\n            id INT PRIMARY KEY AUTO_INCREMENT,\n            email VARCHAR(150) NOT NULL,\n            telefone VARCHAR(20),\n            cpf VARCHAR(14) NOT NULL,\n            nome VARCHAR(150) NOT NULL,\n            endereco VARCHAR(200),\n            formadepagamento VARCHAR(50)\n        )\n    \"\"\";\n\n        String createPagamentoSQL = \"\"\"\n        CREATE TABLE IF NOT EXISTS Pagamento (\n            idpagamento INT PRIMARY KEY AUTO_INCREMENT,\n            valor DECIMAL(10,2) NOT NULL,\n            forma VARCHAR(50),\n            prazo INT\n        )\n    \"\"\";\n\n        String createEntregadorSQL = \"\"\"\n        CREATE TABLE IF NOT EXISTS Entregador (\n            id INT PRIMARY KEY AUTO_INCREMENT,\n            nomeEntregador VARCHAR(150) NOT NULL,\n            telefone VARCHAR(20),\n            cpf VARCHAR(14),\n            veiculo VARCHAR(50),\n            disponivel BOOLEAN DEFAULT TRUE\n        )\n    \"\"\";\n\n        String createParceiroSQL = \"\"\"\n        CREATE TABLE IF NOT EXISTS Parceiro (\n            id INT PRIMARY KEY AUTO_INCREMENT,\n            cnpj VARCHAR(18) NOT NULL,\n            nome VARCHAR(150) NOT NULL,\n            senha VARCHAR(255) NOT NULL,\n            telefone VARCHAR(20),\n            email VARCHAR(150),\n            endereco VARCHAR(200),\n            categoria VARCHAR(100),\n            taxaEntrega DECIMAL(10,2),\n            cep VARCHAR(10),\n            estado VARCHAR(50),\n            cidade VARCHAR(100),\n            bairro VARCHAR(100),\n            numero INT,\n            horarioSemana VARCHAR(50) DEFAULT '10:00 √†s 18:00',\n            horarioFimSemana VARCHAR(50) DEFAULT '10:00 √†s 14:00',\n            formasPagamento VARCHAR(255)\n        )\n    \"\"\";\n\n        String createPedidoSQL = \"\"\"\n                CREATE TABLE IF NOT EXISTS Pedido(\n                    id INT PRIMARY KEY AUTO_INCREMENT,\n                    idusuario INT NOT NULL,\n                    nomeCliente VARCHAR(150) NOT NULL,\n                    valorTotal DECIMAL(10,2) NOT NULL,\n                    idEntregador INT NULL,\n                    status VARCHAR(50),\n                    endereco VARCHAR(200),\n                    formaPagamento VARCHAR(50),\n                    idParceiro INT NULL,\n                    \n                    FOREIGN KEY (idEntregador) REFERENCES Entregador(id),\n                    FOREIGN KEY (idParceiro) REFERENCES Parceiro(id)\n                );\n    \"\"\";\n\n\n        String createPromocaoSQL = \"\"\"\n        CREATE TABLE IF NOT EXISTS Promocao (\n            id INT PRIMARY KEY AUTO_INCREMENT,\n            idProduto INT NOT NULL,\n            idParceiro INT NOT NULL,\n            precoOriginal DECIMAL(10,2) NOT NULL,\n            precoPromocional DECIMAL(10,2) NOT NULL,\n            ativa BOOLEAN DEFAULT TRUE,\n            FOREIGN KEY (idParceiro) REFERENCES Parceiro(id)\n        )\n    \"\"\";\n\n        Connection conn = null;\n        try {\n            conn = getConnection();\n            Statement stmt = conn.createStatement();\n\n            stmt.execute(createCategoriasSQL);\n\n\n            String insertCategoriaPadraoSQL = \"\"\"\n                INSERT INTO categorias (nome, descricao)\n                SELECT 'Geral', 'Categoria padr√£o'\n                WHERE NOT EXISTS (SELECT 1 FROM categorias)\n            \"\"\";\n            stmt.execute(insertCategoriaPadraoSQL);\n\n            stmt.execute(createProdutosSQL);\n            stmt.execute(createUsuarioSQL);\n            stmt.execute(createPagamentoSQL);\n            stmt.execute(createEntregadorSQL);\n            stmt.execute(createParceiroSQL);\n            stmt.execute(createPedidoSQL);\n            stmt.execute(createPromocaoSQL);\n\n            System.out.println(\"SUCESSO: Banco de dados inicializado com sucesso!\");\n            System.out.println(\"  Usando: \" +\n                    ((H2ConnectionFactory) connectionFactory).getUrl());\n        } catch (SQLException e) {\n            System.err.println(\"ERRO: Erro ao inicializar banco de dados: \" + e.getMessage());\n        } finally {\n            try {\n                closeConnection(conn);\n            } catch (SQLException e) {\n                System.err.println(\"ERRO: Erro ao fechar conex√£o: \" + e.getMessage());\n            }\n        }\n    }\n}\n","size_bytes":5670},"src/main/java/br/com/pedija/parceiro/view/TelaPromocaoParceiro.java":{"content":"package br.com.pedija.parceiro.view;\n\nimport br.com.pedija.parceiro.controller.ProdutoController;\nimport br.com.pedija.parceiro.controller.PromocaoController;\nimport br.com.pedija.superadm.model.Parceiro;\nimport br.com.pedija.superadm.model.Produto;\nimport br.com.pedija.superadm.model.Promocao;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class TelaPromocaoParceiro {\n\n    private Scanner sc;\n    private Parceiro parceiro;\n    private ProdutoController produtoController;\n    private PromocaoController promocaoController;\n\n\n    public TelaPromocaoParceiro(Parceiro parceiro) {\n        this.sc = new Scanner(System.in);\n        this.parceiro = parceiro;\n        this.produtoController = new ProdutoController();\n        this.promocaoController = new PromocaoController();\n    }\n\n    public void menuPromocaoParceiro() {\n        int opcao = -1;\n\n        do {\n            System.out.println(\"\\n GERENCIAR PROMO√á√ïES - \" + parceiro.getNome());\n            System.out.println(\"------------------------------\");\n            System.out.println(\" 1 - Criar Promo√ß√£o\");\n            System.out.println(\" 2 - Remover Promo√ß√£o\");\n            System.out.println(\" 3 - Listar Promo√ß√µes Ativas\");\n            System.out.println(\" 0 - Voltar\");\n            System.out.println(\"------------------------------\");\n            System.out.print(\"Escolha uma op√ß√£o: \");\n\n            try {\n                opcao = sc.nextInt();\n                sc.nextLine();\n                resultadoOp(opcao);\n            } catch (Exception erro) {\n                System.out.println(\" Erro: digite apenas n√∫meros!\");\n                sc.nextLine();\n            }\n\n        } while (opcao != 0);\n    }\n\n    private void resultadoOp(int opcao) {\n        switch (opcao) {\n            case 1:\n                criarPromocao();\n                break;\n            case 2:\n                removerPromocao();\n                break;\n            case 3:\n                listarPromocoesAtivas();\n                break;\n\n            case 0:\n                System.out.println(\"Voltando...\");\n                break;\n            default:\n                System.out.println(\" Op√ß√£o inv√°lida!\");\n                break;\n        }\n    }\n\n    private void criarPromocao() {\n        System.out.println(\"\\n================================\\n\");\n        System.out.println(\"     CRIAR NOVA PROMO√á√ÉO            \");\n        System.out.println(\"================================\\n\");\n\n\n        List<Produto> produtos = produtoController.listarPorParceiros(parceiro.getId());\n\n        if (produtos.isEmpty()) {\n            System.out.println(\" Voc√™ n√£o tem produtos cadastrados!\");\n\n            return;\n        }\n        System.out.println(\"SEUS PRODUTOS:\");\n        for (Produto p : produtos) {\n            System.out.println(\"ID: \" + p.getId() + \" - \" + p.getNome() +\n                    \" (R$ \" + String.format(\"%.2f\", p.getPreco()) + \")\");\n        }\n\n        try {\n            System.out.print(\"\\nDigite o ID do produto: \");\n            int idProduto = sc.nextInt();\n            sc.nextLine();\n\n            Produto produto = produtoController.buscarPorId(idProduto);\n\n            if (produto == null) {\n                System.out.println(\" Produto n√£o encontrado!\");\n\n                return;\n            }\n\n            if (produto.getIdParceiro() != parceiro.getId()) {\n                System.out.println(\" Este produto n√£o √© seu!\");\n\n                return;\n            }\n            System.out.println(\"\\nProduto: \" + produto.getNome());\n            System.out.println(\"Pre√ßo Original: R$ \" + String.format(\"%.2f\", produto.getPreco()));\n\n            System.out.print(\"\\nPre√ßo Promocional (R$): \");\n            double precoPromocional = sc.nextDouble();\n            sc.nextLine();\n\n            if (precoPromocional >= produto.getPreco()) {\n                System.out.println(\" Pre√ßo promocional deve ser menor que o original!\");\n\n                return;\n            }\n            double desconto = ((produto.getPreco() - precoPromocional) / produto.getPreco()) * 100;\n\n            System.out.println(\"\\nDesconto: \" + String.format(\"%.0f\", desconto) + \"%\");\n            System.out.print(\"Confirmar promo√ß√£o? (S/N): \");\n            String confirma = sc.nextLine();\n\n            if (confirma.equalsIgnoreCase(\"S\")) {\n                Promocao promocao = new Promocao();\n                promocao.setIdProduto(produto.getId());\n                promocao.setIdParceiro(parceiro.getId());\n                promocao.setPrecoOriginal(produto.getPreco());\n                promocao.setPrecoPromocional(precoPromocional);\n                promocao.setPercentualDesconto(desconto);\n                promocao.setAtiva(true);\n\n                if (promocaoController.adicionar(promocao)) {\n                    System.out.println(\"\\n Promo√ß√£o criada com sucesso!\");\n                    System.out.println(\"C√≥digo da promo√ß√£o: \" + promocao.getId());\n                }\n            } else {\n                System.out.println(\" Promo√ß√£o cancelada!\");\n            }\n\n        } catch (Exception e) {\n            System.out.println(\" Erro: \" + e.getMessage());\n            sc.nextLine();\n        }\n\n\n    }\n    private void removerPromocao() {\n        System.out.println(\"\\n================================\\n\");\n        System.out.println(\"     REMOVER PROMO√á√ÉO               \");\n        System.out.println(\"================================\\n\\n\");\n\n\n        List<Promocao> promocoes = promocaoController.listarTodasPorParceiro(parceiro.getId());\n\n        if (promocoes.isEmpty()) {\n            System.out.println(\" Voc√™ n√£o tem promo√ß√µes cadastradas!\");\n\n            return;\n        }\n\n\n        for (Promocao p : promocoes) {\n            System.out.println(\"ID: \" + p.getId() + \" | Produto ID: \" + p.getIdProduto() +\n                    \" | De: R$ \" + String.format(\"%.2f\", p.getPrecoOriginal()) +\n                    \" Por: R$ \" + String.format(\"%.2f\", p.getPrecoPromocional()) +\n                    \" | \" + (p.isAtiva() ? \" Ativa\" : \" Inativa\"));\n        }\n\n        try {\n            System.out.print(\"\\nID da promo√ß√£o para remover: \");\n            int id = sc.nextInt();\n            sc.nextLine();\n\n            System.out.print(\"Confirmar remo√ß√£o? (S/N): \");\n            String confirma = sc.nextLine();\n\n            if (confirma.equalsIgnoreCase(\"S\")) {\n                if (promocaoController.remover(id)) {\n                    System.out.println(\" Promo√ß√£o removida!\");\n                } else {\n                    System.out.println(\" Erro ao remover!\");\n                }\n            }\n\n        } catch (Exception e) {\n            System.out.println(\" Erro: \" + e.getMessage());\n            sc.nextLine();\n        }\n    }\n    private void listarPromocoesAtivas() {\n        System.out.println(\"\\n================================\\n\");\n        System.out.println(\"     PROMO√á√ïES ATIVAS               \");\n        System.out.println(\"================================\\n\");\n\n        List<Promocao> promocoes = promocaoController.listarAtivasPorParceiro(parceiro.getId());\n\n        if (promocoes.isEmpty()) {\n            System.out.println(\"Nenhuma promo√ß√£o cadastrada.\");\n        } else {\n            for (Promocao p : promocoes) {\n                if (p.isAtiva()) {\n                    System.out.println(\"‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\");\n                    System.out.println(\"ID: \" + p.getId());\n                    System.out.println(\"Produto ID: \" + p.getIdProduto());\n                    System.out.println(\"De: R$ \" + String.format(\"%.2f\", p.getPrecoOriginal()));\n                    System.out.println(\"Por: R$ \" + String.format(\"%.2f\", p.getPrecoPromocional()));\n                    System.out.println(\"Desconto: \" + String.format(\"%.0f\", p.getPercentualDesconto()) + \"%\");\n                }\n            }\n        }\n\n    }\n}","size_bytes":7865},"src/main/java/br/com/pedija/parceiro/view/TelaLoginParceiro.java":{"content":"package br.com.pedija.parceiro.view;\n\nimport br.com.pedija.parceiro.controller.ParceiroController;\nimport br.com.pedija.superadm.model.Parceiro;\nimport br.com.pedija.superadm.dao.ParceiroDAO;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class TelaLoginParceiro {\n\n    private Scanner sc;\n    private ParceiroController controller;\n    private Parceiro parceiro;\n    private ParceiroDAO parceiroDAO;\n\n    public TelaLoginParceiro() {\n        this.sc = new Scanner(System.in);\n        this.controller = new ParceiroController();\n        this.parceiroDAO = new ParceiroDAO();\n    }\n\n    public void exibir() {\n        int opcao = 0;\n        do {\n            System.out.println(\"\\nPEDIJA - PARCEIRO\");\n            System.out.println(\"1 - Login\");\n            System.out.println(\"2 - Cadastrar\");\n            System.out.println(\"0 Sair\");\n            opcao = sc.nextInt();\n            sc.nextLine(); // limpar buffer\n\n            switch (opcao) {\n                case 1:\n                    entrar();\n                    break;\n                case 2:\n                    cadastrar();\n                    break;\n                case 0:\n                    return;\n                default:\n                    System.out.println(\"Op√ß√£o inv√°lida!\");\n            }\n\n        } while (opcao != 0);\n    }\n\n    private void cadastrar() {\n        System.out.println(\"\\n-----------------------------------\");\n        System.out.println(\"||     CADASTRO NOVO PARCEIRO    ||\");\n        System.out.println(\"-----------------------------------\");\n\n        Parceiro novoParceiro = new Parceiro();\n\n        try {\n            System.out.println(\"‚ïê‚ïê‚ïê DADOS B√ÅSICOS ‚ïê‚ïê‚ïê\");\n\n            System.out.print(\" Nome do Restaurante: \");\n            novoParceiro.setNome(sc.nextLine());\n\n            System.out.print(\" Email: \");\n            novoParceiro.setEmail(sc.nextLine());\n\n            System.out.print(\" Senha: \");\n            String senha = sc.nextLine();\n\n            System.out.print(\" Confirme a Senha: \");\n            String confirmaSenha = sc.nextLine();\n\n            if (!senha.equals(confirmaSenha)) {\n                System.out.println(\"\\n As senhas n√£o coincidem!\");\n                return;\n            }\n            novoParceiro.setSenha(senha);\n\n            System.out.println(\"‚ïê‚ïê‚ïê DADOS COMPLEMENTARES ‚ïê‚ïê‚ïê\");\n\n            System.out.print(\" CNPJ: \");\n            novoParceiro.setCnpj(sc.nextLine());\n\n            System.out.print(\" Telefone: \");\n            novoParceiro.setTelefone(sc.nextLine());\n\n            System.out.print(\" Cidade: \");\n            novoParceiro.setCidade(sc.nextLine());\n\n            System.out.print(\" Estado: \");\n            novoParceiro.setEstado(sc.nextLine());\n\n            System.out.print(\" Bairro: \");\n            novoParceiro.setBairro(sc.nextLine());\n\n            System.out.print(\" CEP: \");\n            novoParceiro.setCep(sc.nextLine());\n\n            System.out.print(\" Numero: \");\n            novoParceiro.setNumero(sc.nextInt());\n            sc.nextLine(); // limpar buffer\n\n            System.out.println(\" Categoria da sua loja \");\n            System.out.println(\"[1] Pizzaria\");\n            System.out.println(\"[2] Hamburgueria\");\n            System.out.println(\"[3] Japon√™s\");\n            System.out.println(\"[4] Churrascaria\");\n            System.out.println(\"[5] Lanchonete\");\n            System.out.println(\"[6] Padaria\");\n            System.out.println(\"[7] Outro\");\n\n            System.out.print(\"Escolha: \");\n            int tipoOpcao = Integer.parseInt(sc.nextLine());\n\n            String categoria = exibirTipoRestaurante(tipoOpcao);\n            if (tipoOpcao == 7) {\n                System.out.print(\"Digite o tipo: \");\n                categoria = sc.nextLine();\n            }\n            novoParceiro.setCategoria(categoria);\n\n            System.out.println(\"‚ïê‚ïê‚ïê FORMAS DE PAGAMENTO ‚ïê‚ïê‚ïê\");\n            System.out.print(\"Digite as formas de pagamento (separadas por v√≠rgula ex:pix,debito,credito): \");\n            String formasInput = sc.nextLine();\n            List<String> formas = Arrays.asList(formasInput.split(\",\"));\n            novoParceiro.setFormasPagamento(formas);\n\n            System.out.println(\"\\n-----------------------------------\");\n            System.out.println(\"||      CONFIRMAR CADASTRO?      ||\");\n            System.out.println(\"-----------------------------------\");\n            System.out.println(\" Nome: \" + novoParceiro.getNome());\n            System.out.println(\" Email: \" + novoParceiro.getEmail());\n            System.out.println(\" CNPJ: \" + novoParceiro.getCnpj());\n            System.out.println(\" Telefone: \" + novoParceiro.getTelefone());\n            System.out.println(\" Tipo: \" + novoParceiro.getCategoria());\n            System.out.println(\"----------------------------------\");\n\n            System.out.print(\"\\nConfirma cadastro? (S/N): \");\n            String confirma = sc.nextLine();\n\n            if (confirma.equalsIgnoreCase(\"S\")) {\n                if (controller.cadastrar(novoParceiro)) {\n                    System.out.println(\"\\n Parceiro cadastrado com sucesso!\");\n                    System.out.println(\" Bem-vindo ao Pedija, \" + novoParceiro.getNome() + \"!\");\n\n                    Parceiro parceiroLogado = controller.login(novoParceiro.getEmail(), novoParceiro.getSenha());\n                    if (parceiroLogado != null) {\n                        MenuPrincipalParceiro menu = new MenuPrincipalParceiro(parceiroLogado);\n                        menu.exibirMenuParceiro();\n                    }\n                } else {\n                    System.out.println(\"\\n Erro ao cadastrar parceiro!\");\n                }\n            } else {\n                System.out.println(\"\\n Cadastro cancelado!\");\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(\"\\nÔ∏è Erro no cadastro.\");\n        }\n    }\n\n    private void entrar() {\n        System.out.println(\"Digite seu Email: \");\n        String email = sc.nextLine();\n\n        System.out.println(\"Digite sua Senha: \");\n        String senha = sc.nextLine();\n\n        Parceiro parceiroLogado = parceiroDAO.login(email, senha);\n\n        if (parceiroLogado != null) {\n            System.out.println(\"Login realizado com sucesso! Bem-vindo \" + parceiroLogado.getNome());\n            MenuPrincipalParceiro menu = new MenuPrincipalParceiro(parceiroLogado);\n            menu.exibirMenuParceiro();\n        } else {\n            System.out.println(\"Email ou senha inv√°lidos!\");\n        }\n    }\n\n    private String exibirTipoRestaurante(int opcao) {\n        switch (opcao) {\n            case 1: return \"Pizzaria\";\n            case 2: return \"Hamburgueria\";\n            case 3: return \"Japon√™s\";\n            case 4: return \"Churrascaria\";\n            case 5: return \"Lanchonete\";\n            case 6: return \"Padaria\";\n            case 7: return \"Outro\";\n            default: return \"Restaurante\";\n        }\n    }\n}\n","size_bytes":6973},"src/main/java/br/com/pedija/superadm/dao/UsuarioDAO.java":{"content":"package br.com.pedija.superadm.dao;\n\nimport br.com.pedija.superadm.database.DatabaseConnection;\nimport br.com.pedija.superadm.model.Usuario;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class UsuarioDAO {\n\n    // CREATE\n    public void criar(Usuario usuario) {\n\n        String sql = \"INSERT INTO usuario (email, telefone, cpf, nome, endereco, formadepagamento) \" +\n                \"VALUES (?, ?, ?, ?, ?, ?)\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, usuario.getEmail());\n            stmt.setString(2, usuario.getTelefone());\n            stmt.setString(3, usuario.getCpf());\n            stmt.setString(4, usuario.getNome());\n            stmt.setString(5, usuario.getEndereco());\n            stmt.setString(6, usuario.getFormadepagamento());\n\n            stmt.executeUpdate();\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao cadastrar usu√°rio: \" + e.getMessage(), e);\n        }\n    }\n\n\n    // READ ALL\n    public List<Usuario> buscarTodos() {\n        List<Usuario> usuarios = new ArrayList<>();\n        String sql = \"SELECT * FROM usuario ORDER BY id\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(sql)) {\n\n            while (rs.next()) {\n                Usuario u = new Usuario();\n                u.setId(rs.getInt(\"id\"));\n                u.setEmail(rs.getString(\"email\"));\n                u.setTelefone(rs.getString(\"telefone\"));\n                u.setCpf(rs.getString(\"cpf\"));\n                u.setNome(rs.getString(\"nome\"));\n                u.setEndereco(rs.getString(\"endereco\"));\n                u.setFormadepagamento(rs.getString(\"formadepagamento\"));\n\n                usuarios.add(u);\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar usu√°rios: \" + e.getMessage(), e);\n        }\n\n        return usuarios;\n    }\n\n    public Usuario login(String email, String telefone) {\n        String sql = \"SELECT * FROM Usuario WHERE email = ? AND telefone = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, email);\n            stmt.setString(2, telefone);\n\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) {\n                // --- Mapeamento feito aqui dentro ---\n                Usuario u = new Usuario();\n                u.setId(rs.getInt(\"id\"));\n                u.setEmail(rs.getString(\"email\"));\n                u.setTelefone(rs.getString(\"telefone\"));\n                u.setCpf(rs.getString(\"cpf\"));\n                u.setNome(rs.getString(\"nome\"));\n                u.setEndereco(rs.getString(\"endereco\"));\n                u.setFormadepagamento(rs.getString(\"formadepagamento\"));\n\n                return u;\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao fazer login: \" + e.getMessage(), e);\n        }\n\n        return null;\n    }\n\n\n\n    // READ BY ID\n    public Usuario buscarPorId(int id) {\n        String sql = \"SELECT * FROM usuario WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) {\n                Usuario u = new Usuario();\n                u.setId(rs.getInt(\"id\"));\n                u.setEmail(rs.getString(\"email\"));\n                u.setTelefone(rs.getString(\"telefone\"));\n                u.setCpf(rs.getString(\"cpf\"));\n                u.setNome(rs.getString(\"nome\"));\n                u.setEndereco(rs.getString(\"endereco\"));\n                u.setFormadepagamento(rs.getString(\"formadepagamento\"));\n                return u;\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar usu√°rio por ID: \" + e.getMessage(), e);\n        }\n\n        return null;\n    }\n\n\n    // UPDATE\n    public void atualizar(Usuario usuario) {\n        String sql = \"\"\"\n                UPDATE usuario\n                SET email = ?, telefone = ?, cpf = ?, nome = ?, endereco = ?, formadepagamento = ?\n                WHERE id = ?\n                \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, usuario.getEmail());\n            stmt.setString(2, usuario.getTelefone());\n            stmt.setString(3, usuario.getCpf());\n            stmt.setString(4, usuario.getNome());\n            stmt.setString(5, usuario.getEndereco());\n            stmt.setString(6, usuario.getFormadepagamento());\n            stmt.setInt(7, usuario.getId());\n\n            int rowsAffected = stmt.executeUpdate();\n            if (rowsAffected == 0) {\n                throw new RuntimeException(\"Usu√°rio n√£o encontrado!\");\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao atualizar usu√°rio: \" + e.getMessage(), e);\n        }\n    }\n\n\n    // DELETE\n    public void deletar(int id) {\n        String sql = \"DELETE FROM usuario WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n\n            int rowsAffected = stmt.executeUpdate();\n            if (rowsAffected == 0) {\n                throw new RuntimeException(\"Usu√°rio n√£o encontrado!\");\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao remover usu√°rio: \" + e.getMessage(), e);\n        }\n    }\n}","size_bytes":5885},"src/main/java/br/com/pedija/consumidor/controller/UsuarioController.java":{"content":"package br.com.pedija.consumidor.controller;\n\n\nimport br.com.pedija.superadm.model.Parceiro;\nimport br.com.pedija.superadm.model.Usuario;\nimport br.com.pedija.superadm.dao.UsuarioDAO;\n\n/**\n * Controller m√≠nimo para trabalhar com VIEW + MODEL sem DAO.\n * Atualmente usa uma lista em mem√≥ria como \"banco fake\".\n *\n * // AQUI ENTRA O BANCO DE DADOS (FUTURO)\n * - Substituir a lista por chamadas ao DAO/Repository que acesse o BD.\n */\n\npublic class UsuarioController {\n\n    UsuarioDAO usuarioDAO = new UsuarioDAO();\n\n    public Usuario login(String email, String telefone) {\n\n        return usuarioDAO.login(email, telefone);\n    }\n\n\n    public boolean cadastrar(Usuario  usuario) {\n\n        if (usuario.getNome() == null || usuario.getNome().trim().isEmpty()) {\n            System.out.println(\"Nome √© obrigat√≥rio!\");\n            return false;\n        }\n\n        if (usuario.getEmail() == null || !usuario.getEmail().contains(\"@\")) {\n            System.out.println(\"Email inv√°lido!\");\n            return false;\n        }\n\n        if (usuario.getCpf() == null || usuario.getCpf().trim().isEmpty()) {\n            System.out.println(\"CPF √© obrigat√≥rio!\");\n            return false;\n        }\n\n        if (usuario.getEndereco() == null || usuario.getEndereco().isEmpty()) {\n            System.out.println(\"Endere√ßo √© obrigat√≥rias!\");\n            return false;\n        }\n\n        usuarioDAO.criar(usuario);\n\n        System.out.println(\"Parceiro cadastrado no banco!\");\n        return true;\n    }\n\n    public boolean atualizarUsuario(Usuario usuario) {\n        try {\n            usuarioDAO.atualizar(usuario);\n            return true;\n\n        } catch (Exception e) {\n            System.out.println(\"Erro ao atualizar usu√°rio: \" + e.getMessage());\n            return false;\n        }\n    }\n\n\n}\n\n","size_bytes":1796},"src/main/java/br/com/pedija/consumidor/view/perfil/EnderecosConta.java":{"content":"package br.com.pedija.consumidor.view.perfil;\n\npublic class EnderecosConta {\n}\n","size_bytes":79},"src/main/java/br/com/pedija/superadm/dao/CategoriaDAO.java":{"content":"package br.com.pedija.superadm.dao;\n\nimport br.com.pedija.superadm.database.DatabaseConnection;\nimport br.com.pedija.superadm.model.Categoria;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CategoriaDAO {\n\n    // CREATE\n    public void criar(Categoria categoria) {\n        String sql = \"INSERT INTO categorias (nome, descricao) VALUES (?, ?)\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, categoria.getNome());\n            stmt.setString(2, categoria.getDescricao());\n\n            stmt.executeUpdate();\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao cadastrar categoria: \" + e.getMessage(), e);\n        }\n    }\n\n    // READ ALL\n    public List<Categoria> buscarTodas() {\n        List<Categoria> categorias = new ArrayList<>();\n        String sql = \"SELECT * FROM categorias ORDER BY nome\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(sql)) {\n\n            while (rs.next()) {\n                Categoria categoria = new Categoria();\n                categoria.setId(rs.getInt(\"id\"));\n                categoria.setNome(rs.getString(\"nome\"));\n                categoria.setDescricao(rs.getString(\"descricao\"));\n                categorias.add(categoria);\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar categorias: \" + e.getMessage(), e);\n        }\n\n        return categorias;\n    }\n\n    // READ BY ID\n    public Categoria buscarPorId(int id) {\n        String sql = \"SELECT * FROM categorias WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) {\n                Categoria categoria = new Categoria();\n                categoria.setId(rs.getInt(\"id\"));\n                categoria.setNome(rs.getString(\"nome\"));\n                categoria.setDescricao(rs.getString(\"descricao\"));\n                return categoria;\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar categoria: \" + e.getMessage(), e);\n        }\n\n        return null;\n    }\n\n    // UPDATE\n    public void atualizar(Categoria categoria) {\n        String sql = \"UPDATE categorias SET nome = ?, descricao = ? WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, categoria.getNome());\n            stmt.setString(2, categoria.getDescricao());\n            stmt.setInt(3, categoria.getId());\n\n            int rowsAffected = stmt.executeUpdate();\n            if (rowsAffected == 0) {\n                throw new RuntimeException(\"Categoria n√£o encontrada!\");\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao atualizar categoria: \" + e.getMessage(), e);\n        }\n    }\n\n    // DELETE\n    public void deletar(int id) {\n        // Verifica se existem produtos associados\n        String checkSql = \"SELECT COUNT(*) FROM produtos WHERE categoria_id = ?\";\n        String deleteSql = \"DELETE FROM categorias WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection()) {\n\n            // Verifica produtos associados\n            try (PreparedStatement checkStmt = conn.prepareStatement(checkSql)) {\n                checkStmt.setInt(1, id);\n                ResultSet rs = checkStmt.executeQuery();\n                if (rs.next() && rs.getInt(1) > 0) {\n                    throw new RuntimeException(\"N√£o √© poss√≠vel excluir! Existem produtos vinculados a esta categoria.\");\n                }\n            }\n\n            // Deleta a categoria\n            try (PreparedStatement deleteStmt = conn.prepareStatement(deleteSql)) {\n                deleteStmt.setInt(1, id);\n                int rowsAffected = deleteStmt.executeUpdate();\n                if (rowsAffected == 0) {\n                    throw new RuntimeException(\"Categoria n√£o encontrada!\");\n                }\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao remover categoria: \" + e.getMessage(), e);\n        }\n    }\n}","size_bytes":4500},"src/main/java/br/com/pedija/parceiro/view/TelaEntregasParceiro.java":{"content":"package br.com.pedija.parceiro.view;\nimport br.com.pedija.parceiro.controller.EntregadorController;\nimport br.com.pedija.parceiro.controller.PedidoController;\nimport br.com.pedija.superadm.model.Entregador;\nimport br.com.pedija.superadm.model.Parceiro;\nimport br.com.pedija.superadm.model.Pedido;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class TelaEntregasParceiro {\n\n\n    private Scanner sc;\n    private Parceiro parceiro;\n    private PedidoController pedidoController;\n    private EntregadorController entregadorController;\n\n    public TelaEntregasParceiro(Parceiro parceiro) {\n        this.sc = new Scanner(System.in);\n        this.parceiro = parceiro;\n        this.pedidoController = new PedidoController();\n        this.entregadorController = new EntregadorController();\n    }\n\n    public void menuEntregasParceiro() {\n        int opcao = -1;\n\n        do {\n            System.out.println(\"\\n GERENCIAR ENTREGAS - \" + parceiro.getNome());\n            System.out.println(\"------------------------------\");\n            System.out.println(\"1 - Pedidos Aguardando Entregador\");\n            System.out.println(\"2 - Pedidos em Rota\");\n            System.out.println(\"3 - Ver Entregadores Dispon√≠veis\");\n            System.out.println(\"0 - Voltar\");\n            System.out.println(\"------------------------------\");\n            System.out.print(\"Escolha uma op√ß√£o: \");\n\n            try {\n                opcao = sc.nextInt();\n                sc.nextLine();\n                resultadoOp(opcao);\n            } catch (Exception erro) {\n                System.out.println(\" Erro: digite apenas n√∫meros!\");\n                sc.nextLine();\n            }\n\n        } while (opcao != 0);\n    }\n\n    private void resultadoOp(int opcao) {\n        switch (opcao) {\n            case 1:\n                exibirAguardandoEntregador();\n                break;\n            case 2:\n                exibirEmRota();\n                break;\n            case 3:\n                exibirEntregadoresDisponiveis();\n                break;\n            case 0:\n                System.out.println(\"Voltando...\");\n                break;\n            default:\n                System.out.println(\" Op√ß√£o inv√°lida!\");\n                break;\n        }\n    }\n\n    private void exibirAguardandoEntregador() {\n        System.out.println(\"\\n PEDIDOS AGUARDANDO ENTREGADOR\");\n        System.out.println(\"------------------------------\");\n\n        List<Pedido> pedidos = pedidoController.listarAguardandoEntregador(parceiro.getId());\n\n        if (pedidos.isEmpty()) {\n            System.out.println(\"\\nNenhum pedido aguardando entregador\");\n\n            return;\n        }\n\n        for (Pedido p : pedidos) {\n            System.out.println(\"\\n PEDIDO #\" + p.getId());\n            System.out.println(\"Cliente: \" + p.getNomeCliente());\n            System.out.println(\"Endere√ßo: \" + p.getEndereco());\n            System.out.println(\"Valor: R$ \" + String.format(\"%.2f\", p.getValorTotal()));\n            System.out.println(\"‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\");\n        }\n\n        System.out.println(\"\\n[1] Atribuir Entregador\");\n        System.out.println(\"[0] Voltar\");\n        System.out.print(\"Escolha: \");\n\n        int opcao = sc.nextInt();\n        sc.nextLine();\n\n        if (opcao == 1) {\n            atribuirEntregador();\n        }\n    }\n\n    private void atribuirEntregador() {\n\n        List<Entregador> disponiveis = entregadorController.listarDisponiveis();\n\n        if (disponiveis.isEmpty()) {\n            System.out.println(\"\\n Nenhum entregador dispon√≠vel no momento!\");\n\n            return;\n        }\n\n        System.out.println(\"\\nENTREGADORES DISPON√çVEIS:\");\n        for (Entregador e : disponiveis) {\n            System.out.println(\"ID: \" + e.getId() + \" - \" + e.getNomeEntregador() +\n                    \" (\" + e.getVeiculo() + \")\");\n        }\n\n        try {\n            System.out.print(\"\\nID do Pedido: \");\n            int idPedido = sc.nextInt();\n            sc.nextLine();\n\n            System.out.print(\"ID do Entregador: \");\n            int idEntregador = sc.nextInt();\n            sc.nextLine();\n\n\n            if (pedidoController.atribuirEntregador(idPedido, idEntregador)) {\n\n                entregadorController.atribuirPedido(idEntregador);\n\n                System.out.println(\"\\n Entregador atribu√≠do com sucesso!\");\n                System.out.println(\"Pedido #\" + idPedido + \" agora est√° EM ROTA!\");\n            } else {\n                System.out.println(\"\\n Erro ao atribuir entregador!\");\n            }\n\n        } catch (Exception e) {\n            System.out.println(\"\\n Erro: \" + e.getMessage());\n            sc.nextLine();\n        }\n\n\n    }\n\n    private void exibirEmRota() {\n        System.out.println(\"\\n PEDIDOS EM ROTA\");\n        System.out.println(\"------------------------------\");\n\n        List<Pedido> pedidos = pedidoController.listarEmEntrega();\n\n        if (pedidos.isEmpty()) {\n            System.out.println(\"\\n Nenhum pedido em entrega\");\n\n            return;\n        }\n\n        for (Pedido p : pedidos) {\n\n            Entregador entregador = entregadorController.buscarPorId(p.getIdEntregador());\n\n            System.out.println(\"\\n PEDIDO #\" + p.getId());\n            System.out.println(\"Cliente: \" + p.getNomeCliente());\n            System.out.println(\"Endere√ßo: \" + p.getEndereco());\n            //System.out.println(\"Valor: R$ \" + String.format(\"%.2f\", p.getValorTotal()));\n\n            if (entregador != null) {\n                System.out.println(\"Entregador: \" + entregador.getNomeEntregador());\n                System.out.println(\"Ve√≠culo: \" + entregador.getVeiculo());\n                System.out.println(\"Telefone: \" + entregador.getTelefone());\n            }\n\n            System.out.println(\"‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\");\n        }\n    }\n\n    private void exibirEntregadoresDisponiveis() {\n        System.out.println(\"\\n ENTREGADORES DISPON√çVEIS\");\n        System.out.println(\"------------------------------\");\n\n        List<Entregador> disponiveis = entregadorController.listarDisponiveis();\n\n        if (disponiveis.isEmpty()) {\n            System.out.println(\"\\n Nenhum entregador dispon√≠vel no momento\");\n        } else {\n            for (Entregador e : disponiveis) {\n                System.out.println(\"\\nID: \" + e.getId());\n                System.out.println(\"Nome: \" + e.getNomeEntregador());\n                System.out.println(\"Ve√≠culo: \" + e.getVeiculo());\n                System.out.println(\"Telefone: \" + e.getTelefone());\n                System.out.println(\"----------------------------\");\n            }\n        }\n\n\n    }\n\n\n}","size_bytes":6690},"src/main/java/br/com/pedija/superadm/model/Pagamento.java":{"content":"package br.com.pedija.superadm.model;\n\npublic class Pagamento {\n\n    private int idpagamento;\n    private double valor;\n    private String forma;\n    private int prazo;\n\n\n    public int getIdpagamento() {\n        return idpagamento;\n    }\n\n    public void setIdpagamento(int idpagamento) {\n        this.idpagamento = idpagamento;\n    }\n\n    public int getPrazo() {\n        return prazo;\n    }\n\n    public void setPrazo(int prazo) {\n        this.prazo = prazo;\n    }\n\n    public double getValor() {\n        return valor;\n    }\n\n    public void setValor(double valor) {\n        this.valor = valor;\n    }\n\n    public String getForma() {\n        return forma;\n    }\n\n    public void setForma(String forma) {\n        this.forma = forma;\n    }\n}\n","size_bytes":740},"src/main/java/br/com/pedija/superadm/model/Parceiro.java":{"content":"package br.com.pedija.superadm.model;\n\n\nimport java.util.List;\n\npublic class Parceiro {\n    private int id;\n    private String cnpj;\n    private String nome;\n    private String senha;\n    private String telefone;\n    private String email;\n    private String endereco;\n    private String categoria;\n    private double taxaEntrega;\n    private String cep;\n    private String estado;\n    private String cidade;\n    private String bairro;\n    private int numero;\n    private List<String> formasPagamento;\n\n    private String horarioSemana;\n    private String horarioFimSemana;\n\n    public Parceiro() {\n    }\n\n\n    public Parceiro(int id, String nome, String categoria, double taxaEntrega, boolean aberto) {\n        this.id = id;\n        this.nome = nome;\n        this.categoria = categoria;\n        this.taxaEntrega = taxaEntrega;\n        this.aberto = aberto;\n    }\n\n//teste erro\n    public String getHorarioSemana() {\n        return horarioSemana;\n    }\n\n    public void setHorarioSemana(String horarioSemana) {\n        this.horarioSemana = horarioSemana;\n    }\n\n    public String getHorarioFimSemana() {\n        return horarioFimSemana;\n    }\n\n    public void setHorarioFimSemana(String horarioFimSemana) {\n        this.horarioFimSemana = horarioFimSemana;\n    }\n\n    public List<String> getFormasPagamento() {\n        return formasPagamento;\n    }\n\n    public void setFormasPagamento(List<String> formasPagamento) {\n        this.formasPagamento = formasPagamento;\n    }\n//teste erro\n\n    public String getCep() {\n        return cep;\n    }\n\n    public void setCep(String cep) {\n        this.cep = cep;\n    }\n\n    public String getCidade() {\n        return cidade;\n    }\n\n    public void setCidade(String cidade) {\n        this.cidade = cidade;\n    }\n\n    public String getBairro() {\n        return bairro;\n    }\n\n    public void setBairro(String bairro) {\n        this.bairro = bairro;\n    }\n\n    public int getNumero() {\n        return numero;\n    }\n\n    public void setNumero(int numero) {\n        this.numero = numero;\n    }\n\n    public String getEstado() {\n        return estado;\n    }\n\n    public void setEstado(String estado) {\n        this.estado = estado;\n    }\n\n    public String getSenha() {\n        return senha;\n    }\n\n    public void setSenha(String senha) {\n        this.senha = senha;\n    }\n\n    public String getTelefone() {\n        return telefone;\n    }\n\n    public void setTelefone(String telefone) {\n        this.telefone = telefone;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    private boolean aberto;\n\n    public String getCnpj() {\n        return cnpj;\n    }\n\n    public void setCnpj(String cnpj) {\n        this.cnpj = cnpj;\n    }\n\n    public String getEndereco() {\n        return endereco;\n    }\n\n    public void setEndereco(String endereco) {\n        this.endereco = endereco;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getCategoria() {\n        return categoria;\n    }\n\n    public void setCategoria(String categoria) {\n        this.categoria = categoria;\n    }\n\n    public double getTaxaEntrega() {\n        return taxaEntrega;\n    }\n\n    public void setTaxaEntrega(double taxaEntrega) {\n        this.taxaEntrega = taxaEntrega;\n    }\n\n    public boolean isAberto() {\n        return aberto;\n    }\n\n    public void setAberto(boolean aberto) {\n        this.aberto = aberto;\n    }\n}\n\n","size_bytes":3628},"src/main/java/br/com/pedija/parceiro/controller/EntregadorController.java":{"content":"package br.com.pedija.parceiro.controller;\n\nimport br.com.pedija.superadm.dao.EntregadorDAO;\nimport br.com.pedija.superadm.model.Entregador;\n\nimport java.util.List;\n\npublic class EntregadorController {\n\n    private EntregadorDAO entregadorDAO = new EntregadorDAO();\n\n    public List<Entregador> listarTodos() {\n        return entregadorDAO.buscarTodos();\n    }\n\n    public List<Entregador> listarDisponiveis() {\n        return entregadorDAO.listarDisponiveis();\n    }\n\n    public Entregador buscarPorId(int id) {\n        return entregadorDAO.buscarPorId(id);\n    }\n\n\n    public boolean atribuirPedido(int idEntregador) {\n        Entregador e = entregadorDAO.buscarPorId(idEntregador);\n\n        if (e != null && e.isDisponivel()) {\n\n            e.setDisponivel(false);\n\n\n            entregadorDAO.atualizar(e);\n\n            return true;\n        }\n        return false;\n    }\n}","size_bytes":875},"src/main/java/br/com/pedija/parceiro/view/TelaPedidosParceiro.java":{"content":"package br.com.pedija.parceiro.view;\n\n\nimport br.com.pedija.parceiro.controller.PedidoController;\nimport br.com.pedija.superadm.model.Parceiro;\nimport br.com.pedija.superadm.model.Pedido;\n\n\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class TelaPedidosParceiro {\n\n\n    private Scanner sc;\n    private Parceiro parceiro;\n    private PedidoController pedidoController;\n\n\n\n    public TelaPedidosParceiro(Parceiro parceiro) {\n        this.sc = new Scanner(System.in);\n        this.parceiro = parceiro;\n        this.pedidoController = new PedidoController();\n    }\n\n\n    public void exibirPedidos() {\n        int opcao = -1;\n\n\n        do {\n            System.out.println(\"------------------------------\");\n            System.out.println(\"\\nPedidos \" + parceiro.getNome());\n            System.out.println(\"------------------------------\");\n\n\n            System.out.println(\"1- Pedidos Pendentes: (\" + pedidoController.contarPedidosPendentes() + \")\");\n            System.out.println(\"2- Pedidos em Preparo: (\" + pedidoController.contarPedidosEmPreparo() + \")\");\n            System.out.println(\"3- Pedidos Prontos: (\" + pedidoController.contarPedidosProntos() + \")\");\n            System.out.println(\"4- Hist√≥rico.\");\n            System.out.println(\"0- Voltar\");\n\n\n            System.out.println(\"\\nEscolha uma op√ß√£o: \");\n\n\n            try {\n                opcao = sc.nextInt();\n                sc.nextLine();\n                resultadoOpc(opcao);\n            } catch (Exception erro) {\n                System.out.println(\"Erro! Digite apenas n√∫mero!\");\n                sc.nextLine();\n            }\n\n\n        } while (opcao != 0);\n    }\n\n\n    private void resultadoOpc(int opcao) {\n        switch (opcao) {\n            case 1 : exibirPendentes(); break;\n            case 2 : exibirEmPreparo(); break;\n            case 3 : exibirProntos(); break;\n            case 4 : exibirHistorico(); break;\n            case 0 :\n                System.out.println(\"Voltando..\");\n                break;\n            default:System.out.println(\"Op√ß√£o inv√°lida!\");\n                break;\n        }\n    }\n\n\n    private void exibirPendentes() {\n        System.out.println(\"---------------------\");\n        System.out.println(\"PEDIDOS PENDENTES:\");\n        System.out.println(\"---------------------\");\n\n\n        List<Pedido> pedidos = pedidoController.listarPendentes();\n\n        if (pedidos.isEmpty()) {\n            System.out.println(\"\\nNenhum pedido pendente\");\n            return;\n        }\n        for (Pedido p : pedidos) {\n            System.out.printf(\"%nPEDIDO #%d%n\", p.getId());\n            System.out.printf(\"Cliente: %s%n\", p.getNomeCliente());\n            System.out.printf(\"Valor: R$ %.2f%n\", p.getValorTotal());\n            System.out.printf(\"Pagamento: %s%n\", p.getFormaPagamento());\n            System.out.println(\"Itens:\");\n\n\n         //  for (Pedido p : p.getItens()) {\n         //       System.out.printf(\" ‚Ä¢ %dx %s - R$ %.2f%n\",\n         //              item.getQuantidade(),\n         //              item.getNomeProduto(),\n          //             item.getSubTotal());\n       //    }\n        }\n\n\n        System.out.println(\"\\n[1] Aceitar Pedido\");\n        System.out.println(\"[2] Rejeitar Pedido\");\n        System.out.println(\"[3] Voltar\");\n\n\n        System.out.print(\"Escolha uma op√ß√£o: \");\n        int opcao = sc.nextInt();\n        sc.nextLine();\n\n\n        if (opcao == 1) {\n            System.out.print(\"ID do Pedido: \");\n            int id = sc.nextInt();\n            sc.nextLine();\n            aceitarPedido(id);\n        } else if (opcao == 2) {\n            System.out.print(\"ID do Pedido: \");\n            int id = sc.nextInt();\n            sc.nextLine();\n            rejeitarPedido(id);\n        }\n    }\n\n\n    public void exibirEmPreparo() {\n        System.out.println(\"---------------------\");\n        System.out.println(\"PEDIDOS EM PREPARO:\");\n        System.out.println(\"---------------------\");\n\n\n        List<Pedido> pedidos = pedidoController.listarEmPreparo();\n\n\n        if (pedidos.isEmpty()) {\n            System.out.println(\"\\nNenhum pedido em preparo\");\n            return;\n        }\n\n\n        for (Pedido p : pedidos) {\n            System.out.printf(\"%nPedido #%d%n\", p.getId());\n            System.out.printf(\"Cliente: %s%n\", p.getNomeCliente());\n            System.out.printf(\"Valor: R$ %.2f%n\", p.getValorTotal());\n        }\n\n\n\n\n        System.out.println(\"\\n[1] Marcar como Pronto\");\n        System.out.println(\"[0] Voltar\");\n\n\n        System.out.print(\"Escolha uma op√ß√£o: \");\n        int opcao = sc.nextInt();\n        sc.nextLine();\n        if (opcao == 1) {\n            System.out.print(\"ID do Pedido: \");\n            int id = sc.nextInt();\n            sc.nextLine();\n            marcarComoPronto(id);\n        }\n    }\n\n\n    private void exibirProntos() {\n        System.out.println(\"---------------------\");\n        System.out.println(\"PEDIDOS PRONTOS:\");\n        System.out.println(\"---------------------\");\n\n\n        List<Pedido> pedidos = pedidoController.listarProntos();\n\n\n        if (pedidos.isEmpty()) {\n            System.out.println(\"\\nNenhum pedido pronto no momento\");\n            return;\n        }\n        for (Pedido p : pedidos) {\n            System.out.printf(\"%nPEDIDO #%d%n\", p.getId());\n            System.out.printf(\"Cliente: %s%n\", p.getNomeCliente());\n            System.out.printf(\"Valor: R$ %.2f%n\", p.getValorTotal());\n            System.out.println(\"Aguardando entregador...\");\n        }\n    }\n\n\n    private void exibirHistorico() {\n        System.out.println(\"---------------------\");\n        System.out.println(\"HIST√ìRICO DE PEDIDOS\");\n        System.out.println(\"---------------------\");\n\n\n        List<Pedido> entregues = pedidoController.listarProntos();\n\n\n        System.out.println(\"\\nTotal de pedidos entregues: \" + entregues.size())\n        ;\n        if (!entregues.isEmpty()) {\n\n\n            int limite = Math.min(10, entregues.size())\n                    ;\n            for (int i = 0; i < limite; i++) {\n\n\n                Pedido p = entregues.get(i);\n                System.out.printf(\"#%d - %s - R$ %.2f%n\",\n                        p.getId(),\n                        p.getNomeCliente(),\n                        p.getValorTotal());\n            }\n        }\n    }\n\n\n    private void aceitarPedido(int id) {\n        System.out.print(\"\\nTempo de preparo (minutos): \");\n        int tempo = sc.nextInt();\n        sc.nextLine();\n\n\n        if (pedidoController.atualizarStatus(id, \"EM_PREPARO\")) {\n            System.out.println(\"\\nPedido #\" + id + \" aceito!\");\n            System.out.println(\"Tempo de preparo: \" + tempo + \" minutos\");\n        } else {\n            System.out.println(\"\\nErro ao aceitar pedido!\");\n        }\n    }\n\n\n    private void rejeitarPedido(int id) {\n        System.out.println(\"\\nMotivo da rejei√ß√£o:\");\n        System.out.println(\"[1] Fora da √°rea de entrega\");\n        System.out.println(\"[2] Produto indispon√≠vel\");\n        System.out.print(\"Escolha: \");\n        int opcao = sc.nextInt();\n        sc.nextLine();\n\n\n        String motivo;\n\n\n        if (opcao == 1) {\n            motivo = \"Fora da √°rea de entrega\";\n        } else if (opcao == 2) {\n            motivo = \"Produto indispon√≠vel\";\n        } else {\n            System.out.println(\"Op√ß√£o inv√°lida! Cancelando opera√ß√£o.\");\n            return;\n        }\n\n\n        System.out.println(\"\\nMotivo selecionado: \" + motivo);\n        if (pedidoController.atualizarStatus(id, \"REJEITADO\")) {\n            System.out.println(\"\\nPedido #\" + id + \" rejeitado!\");\n        }\n    }\n\n\n    private void marcarComoPronto(int id) {\n        if (pedidoController.atualizarStatus(id, \"PRONTO\")) {\n            System.out.println(\"\\nPedido #\" + id + \" est√° PRONTO\");\n            System.out.println(\"Aguardando entregador...\");\n        } else {\n            System.out.println(\"\\nErro ao atualizar pedido!\");\n        }\n    }\n\n\n    public void exibirMensagemSucesso(String s) {\n    }\n\n\n    public void exibirErro(String message) {\n    }\n}\n\n\n\n","size_bytes":7980},"Fluxo.md":{"content":"\n","size_bytes":1},"src/main/java/br/com/pedija/consumidor/view/perfil/DadosConta.java":{"content":"package br.com.pedija.consumidor.view.perfil;\n\n\nimport java.util.Scanner;\n\npublic class DadosConta {\n\n    private Scanner sc = new Scanner(System.in);\n\n\n    public DadosConta() {}\n\n    public void exibirDados() {\n\n        System.out.println(\"===== DADOS DA CONTA =====\");\n\n//        System.out.println(\"Nome: \" + usuario.getNome());\n//        System.out.println(\"Idade: \" + usuario.getIdade());\n//        System.out.println(\"Email: \" + usuario.getEmail());\n//        System.out.println(\"Telefone: \" + usuario.getTelefone());\n\n        System.out.println(\"\\n Quer alterar algum dado? (1 - Sim, 2 - N√£o)\");\n        int opcao = sc.nextInt();\n\n        switch (opcao) {\n            case 1:\n                System.out.println(\"1 - Nome\");\n                System.out.println(\"2 - Idade\");\n                System.out.println(\"3 - Email\");\n                System.out.println(\"4 - Telefone\");\n                System.out.print(\"Qual dado quer alterar? \");\n                int dado = sc.nextInt();\n\n                switch (dado) {\n                    case 1:\n                        System.out.print(\"Novo nome: \");\n//                        usuario.setNome(sc.nextLine());\n                        break;\n                    case 2:\n                        System.out.print(\"Nova idade: \");\n//                        usuario.setIdade(sc.nextInt());\n                        break;\n                    case 3:\n                        System.out.print(\"Novo email: \");\n                        sc.nextLine(); // limpar buffer\n//                        usuario.setEmail(sc.nextLine());\n                        break;\n                    case 4:\n                        System.out.print(\"Novo telefone: \");\n                        sc.nextLine(); // limpar buffer\n//                        usuario.setTelefone(sc.nextLine());\n                        break;\n                    default:\n                        System.out.println(\"Op√ß√£o inv√°lida!\");\n                        return;\n                }\n\n                System.out.println(\"Dado atualizado com sucesso!\");\n                break;\n\n            case 2:\n                System.out.println(\"Saindo...\");\n                break;\n\n            default:\n                System.out.println(\"Digite um valor v√°lido!\");\n                break;\n        }\n    }\n}","size_bytes":2294},"src/main/java/br/com/pedija/consumidor/view/TelaPedidos.java":{"content":"package br.com.pedija.consumidor.view;\n\n\nimport br.com.pedija.consumidor.controller.PedidoController;\nimport br.com.pedija.superadm.model.Produto;\nimport br.com.pedija.superadm.model.Usuario;\nimport br.com.pedija.superadm.model.Pedido;\n\n\nimport java.awt.*;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class TelaPedidos {\n\n\n    private final PedidoController pedidoController;\n    private final Scanner sc;\n    private final Usuario usuarioLogado;\n    Pedido pedido;\n\n\n    public TelaPedidos(PedidoController pedidoController, Usuario usuarioLogado) {\n        this.pedidoController = pedidoController;\n        this.usuarioLogado = usuarioLogado;\n        this.sc = new Scanner(System.in);\n    }\n\n\n    public void verPedidos() {\n        int op = -1;\n\n\n        do {\n            System.out.println(\"\\n=====PEDIDOS=====\\n\");\n            System.out.println(\"[1] PEDIDOS √Å CAMINHO:\");\n            System.out.println(\"[2] PEDIDOS CONCLUIDOS:\");\n            System.out.println(\"[0] Voltar\");\n\n\n            System.out.print(\"\\nEscolha uma op√ß√£o: \");\n\n\n            try {\n                String line = sc.nextLine().trim();\n                op = line.isEmpty() ? -1 : Integer.parseInt(line);\n\n\n                if (op != -1) {\n                    resultadoescolha(op);\n                }\n            } catch (NumberFormatException erro) {\n                System.out.println(\"Op√ß√£o inv√°lida! Digite apenas n√∫meros.\");\n            }\n\n\n        } while (op != 0);\n    }\n\n\n    private void resultadoescolha(int op) {\n\n\n        switch (op) {\n\n            case 1:\n                pedidoscaminho();\n                break;\n            case 2:\n                pedidosfinalizados();\n                break;\n            case 0:\n                return;\n            default:\n                System.out.println(\"Op√ß√£o inv√°lida!\");\n                break;\n        }\n    }\n\n\n    private void exibirDetalhesEConfirmar(Pedido pedidoSelecionado){\n\n\n        System.out.println(\"\\n=== DETALHES DO PEDIDO #\" + pedidoSelecionado.getId() + \" ===\");\n\n\n        int i = 1;\n        for (Produto it : pedidoSelecionado.getItens())\n        {\n            System.out.printf(\"%d - %s (R$ %.2f)%n\", i++, it.getNome(), it.getPreco());\n        }\n\n\n        System.out.printf(\"Total: R$ %.2f%n\", pedidoSelecionado.getValorTotal());\n        System.out.println(\"Nome: \" + pedidoSelecionado.getNomeCliente());\n        System.out.println(\"Endere√ßo: \" + pedidoSelecionado.getEndereco());\n        System.out.println(\"Forma de pagamento: \" + pedidoSelecionado.getFormaPagamento());\n        System.out.println(\"------------------------------------\");\n\n\n        System.out.println(\"Caso tenha recebido seu pedido, confirme:\");\n        System.out.println(\"[S]\");\n        System.out.println(\"[N]\");\n\n\n        while(true) {\n            System.out.print(\"Escolha: \");\n            String resposta = sc.nextLine().trim().toUpperCase();\n\n\n            if (resposta.equals(\"S\")) {\n                // Chama o Controller para mudar o status\n                pedido.setStatus(\"PRONTO\");\n                System.out.printf(\"\\nPedido recebido e CONCLU√çDO!\");\n                return; // Volta para o menu 'pedidoscaminho'\n\n\n            } else if (resposta.equals(\"N\")) {\n                System.out.println(\"\\nVoltando √† lista de pedidos...\");\n                return; // Volta para o menu 'pedidoscaminho'\n\n\n            } else {\n                System.out.println(\"Op√ß√£o inv√°lida. Digite 'S' ou 'N'.\");\n            }\n        }\n\n\n    }\n\n\n    private void pedidoscaminho() {\n\n\n        List<Pedido> emAndamento = pedidoController.listarEmEntrega();\n\n\n        System.out.println(\"\\n===PEDIDOS √Å CAMINHO===\\n\");\n\n\n        // 2. L√≥gica de Exibi√ß√£o e Sele√ß√£o na View\n        int indiceExibicao = 0;\n\n        for (Pedido p : emAndamento) {\n\n            indiceExibicao++;\n            System.out.printf(\" [%d] Pedido #%d | Total: R$ %.2f%n\", indiceExibicao, p.getId(), p.getValorTotal());\n\n\n            if (!p.getItens().isEmpty()) {\n\n                System.out.printf(\"Itens: %s e mais...\", p.getItens().get(0));\n\n            }\n\n            else {\n                System.out.println(\"Itens: Sem itens registrados.\");\n            }\n        }\n\n\n        if (emAndamento.isEmpty()) {\n            System.out.println(\"Nenhum pedido em andamento.\\n\");\n        }\n\n\n        while (true) {\n            if (!emAndamento.isEmpty()) {\n                System.out.println(\"\\n------------------------------------\");\n                System.out.println(\"Digite o N√öMERO do pedido para ver detalhes.\");\n            }\n\n            System.out.println(\"[0] Voltar\");\n\n            System.out.print(\"Escolha: \");\n\n            try {\n                String line = sc.nextLine().trim();\n                int escolha = line.isEmpty() ? -1 : Integer.parseInt(line);\n\n                if (escolha == 0) {\n                    return; // Volta para o submenu (verPedidos)\n                }\n                // Op√ß√£o de detalhamento do pedido\n\n                if (escolha > 0 && escolha <= emAndamento.size()) {\n                    Pedido pedidoSelecionado = emAndamento.get(escolha - 1); // Indice da lista √© (escolha - 1)\n\n\n//                     Chama o m√©todo para exibir detalhes e perguntar sobre a conclus√£o\n\n                    exibirDetalhesEConfirmar(pedidoSelecionado);\n                    // Depois de ver os detalhes, volta ao menu de pedidos √† caminho (break)\n                    break;\n\n\n                } else if (escolha != -1) {\n                    System.out.println(\"Op√ß√£o inv√°lida. Digite um n√∫mero da lista ou 0 para voltar.\");\n                }\n\n\n            } catch (NumberFormatException e) {\n                System.out.println(\"Entrada inv√°lida. Digite apenas n√∫meros.\");\n            }\n        }\n\n\n    }\n\n\n\n\n\n\n    private void listarPedidosPorStatus(List<Pedido> pedidos, String statusFiltro) {\n        int contador = 0;\n\n\n        for (Pedido p : pedidos) {\n            // Verifica o status\n            if (p.getStatus() != null && p.getStatus().equalsIgnoreCase(statusFiltro)) {\n                contador++;\n                System.out.printf(\" [%d] Pedido #%d | Total: R$ %.2f%n\", contador, p.getId(), p.getValorTotal());\n\n\n                // Exibe o nome do primeiro produto (resumo)\n                if (!p.getItens().isEmpty()) {\n\n                    System.out.printf(\"     Itens: %s e mais...\", p.getItens());\n\n                }\n\n                else {\n\n                    System.out.println(\"     Itens: Sem itens registrados.\");\n                }\n            }\n        }\n\n\n        if (contador == 0) {\n            System.out.println(\"Nenhum pedido encontrado neste status.\");\n        }\n    }\n\n\n\n\n    private void pedidosfinalizados() {\n\n\n        System.out.println(\"\\n===PEDIDOS CONCLUIDOS===\\n\");\n\n\n        List<Pedido> pedidosDoUsuario = pedidoController.listarProntos();\n\n\n        // Chamada do m√©todo auxiliar para exibir apenas os conclu√≠dos\n\n        listarPedidosPorStatus(pedidosDoUsuario, \"Conclu√≠do\");\n\n\n        while(true) {\n\n            System.out.print(\"Digite 0 para voltar: \");\n\n\n            try {\n                String line = sc.nextLine().trim();\n                int resposta = line.isEmpty() ? -1 : Integer.parseInt(line);\n\n\n                if (resposta == 0) {\n                    return;\n                }\n                System.out.println(\"Op√ß√£o inv√°lida.\");\n\n\n            }\n            catch (NumberFormatException e) {\n                System.out.println(\"Entrada inv√°lida. Digite apenas 0.\");\n            }\n\n        }\n    }\n}\n\n\n\n","size_bytes":7513},"src/main/java/br/com/pedija/consumidor/view/perfil/PagamentosConta.java":{"content":"package br.com.pedija.consumidor.view.perfil;\n\npublic class PagamentosConta {\n}\n","size_bytes":80},"src/main/java/br/com/pedija/parceiro/view/TelaProdutosParceiro.java":{"content":"package br.com.pedija.parceiro.view;\n\nimport br.com.pedija.parceiro.controller.ProdutoController;\nimport br.com.pedija.superadm.model.Parceiro;\nimport br.com.pedija.superadm.model.Produto;\n\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class TelaProdutosParceiro {\n\n    private final Scanner sc;\n    private final Parceiro parceiro;\n    private final ProdutoController produtoController;\n\n    public TelaProdutosParceiro(Parceiro parceiro, Scanner sc) {\n        this.sc = sc;\n        this.parceiro = parceiro;\n        this.produtoController = new ProdutoController();\n    }\n\n    public void exibirProdutos() {\n        int opcao = -1;\n        do {\n            System.out.println(\"\\n===== GERENCIAR PRODUTOS - \" + parceiro.getNome() + \" =====\");\n            List<Produto> produtos = produtoController.listarPorParceiros(parceiro.getId());\n            listarProdutos(produtos);\n\n            exibirMenu();\n\n            try {\n                System.out.print(\"Escolha uma op√ß√£o: \");\n                opcao = Integer.parseInt(sc.nextLine());\n                executarOpcao(opcao);\n            } catch (NumberFormatException e) {\n                System.out.println(\"‚ö†Ô∏è  Entrada inv√°lida! Digite apenas n√∫meros.\");\n            } catch (Exception e) {\n                System.out.println(\"‚ùå Erro: \" + e.getMessage());\n                e.printStackTrace();\n            }\n        } while (opcao != 0);\n    }\n\n    private void listarProdutos(List<Produto> produtos) {\n        System.out.println(\"\\n-----------------------------------------------\");\n        System.out.println(\"  PRODUTOS CADASTRADOS (\" + produtos.size() + \")\");\n        System.out.println(\"-----------------------------------------------\");\n\n        if (produtos.isEmpty()) {\n            System.out.println(\"Nenhum produto cadastrado.\");\n            return;\n        }\n\n        for (Produto p : produtos) {\n            String status = p.isDisponivel() ? \"Dispon√≠vel\" : \"Indispon√≠vel\";\n            System.out.printf(\"ID: %d | %s | R$ %.2f | %s%n\", p.getId(), p.getNome(), p.getPreco(), status);\n            if (p.getDescricao() != null && !p.getDescricao().isBlank()) {\n                System.out.println(\"   ‚Üí \" + p.getDescricao());\n            }\n        }\n        System.out.println(\"-----------------------------------------------\");\n    }\n\n    private void exibirMenu() {\n        System.out.println(\"1 - Adicionar Produto\");\n        System.out.println(\"2 - Editar Produto\");\n        System.out.println(\"3 - Remover Produto\");\n        System.out.println(\"4 - Alterar Disponibilidade\");\n        System.out.println(\"0 - Voltar\");\n    }\n\n    private void executarOpcao(int opcao) {\n        switch (opcao) {\n            case 1 -> adicionarProduto();\n            case 2 -> editarProduto();\n            case 3 -> removerProduto();\n            case 4 -> alterarDisponibilidade();\n            case 0 -> System.out.println(\"Voltando...\");\n            default -> System.out.println(\"Op√ß√£o inv√°lida!\");\n        }\n    }\n\n    private void adicionarProduto() {\n        try {\n            Produto novo = new Produto();\n            System.out.print(\"Nome: \");\n            novo.setNome(sc.nextLine());\n            System.out.print(\"Descri√ß√£o: \");\n            novo.setDescricao(sc.nextLine());\n            System.out.print(\"Pre√ßo (R$): \");\n            novo.setPreco(Double.parseDouble(sc.nextLine()));\n            System.out.print(\"Quantidade: \");\n            novo.setQuantidade(Integer.parseInt(sc.nextLine()));\n            System.out.print(\"ID da Categoria: \");\n            novo.setCategoria_id(Integer.parseInt(sc.nextLine()));\n            novo.setDisponivel(true);\n            novo.setIdParceiro(parceiro.getId());\n\n            if (produtoController.adicionarProduto(novo)) {\n                System.out.println(\"‚úÖ Produto adicionado com sucesso!\");\n            } else {\n                System.out.println(\"‚ùå Falha ao adicionar produto.\");\n            }\n        } catch (Exception e) {\n            System.out.println(\"Erro ao cadastrar produto: \" + e.getMessage());\n        }\n    }\n\n    private void editarProduto() {\n        try {\n            System.out.print(\"ID do produto: \");\n            int id = Integer.parseInt(sc.nextLine());\n            Produto produto = produtoController.buscarPorId(id);\n            if (produto == null) {\n                System.out.println(\"Produto n√£o encontrado!\");\n                return;\n            }\n\n            System.out.println(\"Editando: \" + produto.getNome());\n            System.out.println(\"1 - Nome | 2 - Descri√ß√£o | 3 - Pre√ßo | 4 - Quantidade | 0 - Cancelar\");\n            System.out.print(\"Escolha: \");\n            int opc = Integer.parseInt(sc.nextLine());\n\n            switch (opc) {\n                case 1 -> { System.out.print(\"Novo nome: \"); produto.setNome(sc.nextLine()); }\n                case 2 -> { System.out.print(\"Nova descri√ß√£o: \"); produto.setDescricao(sc.nextLine()); }\n                case 3 -> { System.out.print(\"Novo pre√ßo: \"); produto.setPreco(Double.parseDouble(sc.nextLine())); }\n                case 4 -> { System.out.print(\"Nova quantidade: \"); produto.setQuantidade(Integer.parseInt(sc.nextLine())); }\n                case 0 -> { System.out.println(\"Edi√ß√£o cancelada.\"); return; }\n                default -> { System.out.println(\"Op√ß√£o inv√°lida!\"); return; }\n            }\n\n            if (produtoController.atualizarProduto(produto)) {\n                System.out.println(\"‚úÖ Produto atualizado com sucesso!\");\n            } else {\n                System.out.println(\"‚ùå Erro ao atualizar produto!\");\n            }\n\n        } catch (Exception e) {\n            System.out.println(\"Erro: \" + e.getMessage());\n        }\n    }\n\n    private void removerProduto() {\n        try {\n            System.out.print(\"ID do produto: \");\n            int id = Integer.parseInt(sc.nextLine());\n            Produto produto = produtoController.buscarPorId(id);\n\n            if (produto == null) {\n                System.out.println(\"Produto n√£o encontrado!\");\n                return;\n            }\n\n            System.out.print(\"Remover \" + produto.getNome() + \"? (S/N): \");\n            String conf = sc.nextLine();\n\n            if (conf.equalsIgnoreCase(\"S\")) {\n                if (produtoController.remover(id)) {\n                    System.out.println(\"‚úÖ Produto removido com sucesso!\");\n                } else {\n                    System.out.println(\"‚ùå Erro ao remover produto!\");\n                }\n            } else {\n                System.out.println(\"Remo√ß√£o cancelada.\");\n            }\n\n        } catch (Exception e) {\n            System.out.println(\"Erro: \" + e.getMessage());\n        }\n    }\n\n    private void alterarDisponibilidade() {\n        try {\n            System.out.print(\"ID do produto: \");\n            int id = Integer.parseInt(sc.nextLine());\n            Produto produto = produtoController.buscarPorId(id);\n            if (produto == null) {\n                System.out.println(\"Produto n√£o encontrado!\");\n                return;\n            }\n\n            boolean novoStatus = !produto.isDisponivel();\n            if (produtoController.alterarDisponibilidade(id, novoStatus)) {\n                System.out.println(\"‚úÖ Produto agora est√° \" + (novoStatus ? \"DISPON√çVEL\" : \"INDISPON√çVEL\"));\n            } else {\n                System.out.println(\"‚ùå Erro ao alterar disponibilidade!\");\n            }\n\n        } catch (Exception e) {\n            System.out.println(\"Erro: \" + e.getMessage());\n        }\n    }\n}\n","size_bytes":7484},"src/main/java/br/com/pedija/consumidor/controller/ProdutoController.java":{"content":"package br.com.pedija.consumidor.controller;\n\n\nimport br.com.pedija.superadm.model.Produto;\nimport br.com.pedija.superadm.dao.ProdutoDAO;\n\npublic class ProdutoController {\n\n    ProdutoDAO produtoDAO = new ProdutoDAO();\n\n    public Produto buscarPorNome(String nome) {\n\n        return produtoDAO.buscarPorNome(nome);\n    }\n}\n","size_bytes":324},"src/main/java/br/com/pedija/consumidor/view/TelaPromocoes.java":{"content":"package br.com.pedija.consumidor.view;\n\npublic class TelaPromocoes {\n\n    public void verPromocoes() {\n\n        //Novas Promo√ß√µes\n    }\n}","size_bytes":139},"src/main/java/br/com/pedija/parceiro/view/TelaRelatorioParceiro.java":{"content":"package br.com.pedija.parceiro.view;\n\nimport br.com.pedija.parceiro.controller.PedidoController;\nimport br.com.pedija.parceiro.controller.ProdutoController;\nimport br.com.pedija.superadm.model.Parceiro;\nimport br.com.pedija.superadm.model.Produto;\n\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class TelaRelatorioParceiro {\n    private Scanner sc;\n    private Parceiro parceiro;\n    private PedidoController pedidoController;\n    private ProdutoController produtoController;\n\n    public TelaRelatorioParceiro(Parceiro parceiro) {\n        this.sc = new Scanner(System.in);\n        this.parceiro = parceiro;\n        this.pedidoController = new PedidoController();\n        this.produtoController = new ProdutoController();\n    }\n\n    public void menuRelatorio() {\n        int opcao = -1;\n\n        do {\n            System.out.println(\"\\n RELAT√ìRIO E ESTAT√çSTICAS  \" + parceiro.getNome() + \"!\");\n            System.out.println(\"------------------------------\");\n            System.out.println(\" 1 - Relat√≥rio do Dia\");\n            System.out.println(\" 2 - Relat√≥rio do M√™s\");\n            System.out.println(\" 3 - Produtos Mais Vendidos\");\n            System.out.println(\" 4 - Resumo Geral\");\n            System.out.println(\" 0 - Voltar\");\n            System.out.println(\"------------------------------\");\n            System.out.print(\"Escolha uma op√ß√£o: \");\n\n            try {\n                opcao = sc.nextInt();\n                sc.nextLine();\n                resultadoOp(opcao);\n            } catch (Exception erro) {\n                System.out.println(\"Erro: digite apenas n√∫meros!\");\n                sc.nextLine();\n            }\n\n        } while (opcao != 0);\n    }\n\n    private void resultadoOp(int opcao) {\n        switch (opcao) {\n            case 1:\n                relatorioDia();\n                break;\n\n            case 2:\n                relatorioMes();\n                break;\n\n            case 3:\n                produtosMaisVendidos();\n                break;\n\n            case 4:\n                resumoGeral();\n                break;\n\n            case 0:\n                System.out.println(\"Saindo...\");\n                break;\n\n            default:\n                System.out.println(\"Op√ß√£o inv√°lida!\");\n                break;\n        }\n    }\n\n\n    private void relatorioDia() {\n        System.out.println(\"\\n RELAT√ìRIO - VENDAS DO DIA\\n\");\n\n        int totalPedidos = pedidoController.contarPedidosProntos();\n        double faturamento = pedidoController.calcularFaturamentoTotal(parceiro.getId());\n\n\n        System.out.println(\"Total de Pedidos Entregues: \" + totalPedidos);\n        System.out.printf(\"Faturamento Total:          R$ %.2f%n\", faturamento);\n        System.out.println(\"Hor√°rio de Pico:            12h - 18h\");\n    }\n\n    private void relatorioMes() {\n        System.out.println(\"\\n RELAT√ìRIO - VENDAS DO M√äS\\n\");\n\n        int totalPedidos = pedidoController.contarPedidosProntos();\n        double faturamento = pedidoController.calcularFaturamentoTotal(parceiro.getId());\n\n        System.out.println(\"Total de Pedidos Entregues: \" + totalPedidos);\n        System.out.printf(\"Faturamento Total:          R$ %.2f%n\", faturamento);\n\n    }\n\n\n    private void produtosMaisVendidos() {\n        System.out.println(\"\\n PRODUTOS MAIS VENDIDOS\\n\");\n        List<Produto> maisVendidos = produtoController.listarMaisVendidos(parceiro.getId());\n\n        if (maisVendidos.isEmpty()) {\n            System.out.println(\"Nenhum produto foi vendido ainda.\");\n            return;\n        }\n        for (int i = 0; i < maisVendidos.size(); i++) {\n            Produto p = maisVendidos.get(i);\n            System.out.printf(\"%d¬∫ - %s (ID: %d)\\n\", (i + 1), p.getNome(), p.getId());\n        }\n    }\n\n\n    private void resumoGeral() {\n        System.out.println(\"\\n RESUMO GERAL\\n\");\n\n        System.out.println(\"Total de Produtos:   \" + produtoController.contarPorParceiro(parceiro.getId()));\n        System.out.println(\"Pedidos Pendentes:   \" + pedidoController.contarPedidosPendentes());\n        System.out.println(\"Pedidos Entregues:   \" + pedidoController.contarPedidosProntos());\n\n        double faturamento = pedidoController.calcularFaturamentoTotal(parceiro.getId());\n        System.out.printf(\"Faturamento Total:   R$ %.2f%n\", faturamento);\n\n    }\n}","size_bytes":4288},"src/main/java/br/com/pedija/superadm/dao/ParceiroDAO.java":{"content":"package br.com.pedija.superadm.dao;\n\nimport br.com.pedija.superadm.database.DatabaseConnection;\nimport br.com.pedija.superadm.model.Parceiro;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class ParceiroDAO {\n\n    // CREATE\n    public void criar(Parceiro parceiro) {\n\n\n        String sql = \"\"\"\n            INSERT INTO Parceiro \n            (cnpj, nome, senha, telefone, email, endereco, categoria, taxaEntrega, cep, estado, cidade, bairro, numero, horarioSemana, horarioFimSemana, formasPagamento)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {\n\n            stmt.setString(1, parceiro.getCnpj());\n            stmt.setString(2, parceiro.getNome());\n            stmt.setString(3, parceiro.getSenha());\n            stmt.setString(4, parceiro.getTelefone());\n            stmt.setString(5, parceiro.getEmail());\n            stmt.setString(6, parceiro.getEndereco());\n            stmt.setString(7, parceiro.getCategoria());\n            stmt.setDouble(8, parceiro.getTaxaEntrega());\n            stmt.setString(9, parceiro.getCep());\n            stmt.setString(10, parceiro.getEstado());\n            stmt.setString(11, parceiro.getCidade());\n            stmt.setString(12, parceiro.getBairro());\n            stmt.setInt(13, parceiro.getNumero());\n            stmt.setString(14, parceiro.getHorarioSemana());\n            stmt.setString(15, parceiro.getHorarioFimSemana());\n\n            // converte List<String> ‚Üí \"pix,cr√©dito,d√©bito\"\n            String formasPagamento = String.join(\",\", parceiro.getFormasPagamento());\n            stmt.setString(16, formasPagamento);\n\n            stmt.executeUpdate();\n\n\n            ResultSet keys = stmt.getGeneratedKeys();\n            if (keys.next()) {\n                parceiro.setId(keys.getInt(1));\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao cadastrar parceiro: \" + e.getMessage(), e);\n        }\n    }\n\n\n    // READ ALL\n    public List<Parceiro> buscarTodos() {\n        List<Parceiro> parceiros = new ArrayList<>();\n\n        String sql = \"SELECT * FROM Parceiro ORDER BY id\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(sql)) {\n\n            while (rs.next()) {\n                Parceiro p = new Parceiro();\n                p.setId(rs.getInt(\"id\"));\n                p.setCnpj(rs.getString(\"cnpj\"));\n                p.setNome(rs.getString(\"nome\"));\n                p.setSenha(rs.getString(\"senha\"));\n                p.setTelefone(rs.getString(\"telefone\"));\n                p.setEmail(rs.getString(\"email\"));\n                p.setEndereco(rs.getString(\"endereco\"));\n                p.setCategoria(rs.getString(\"categoria\"));\n                p.setTaxaEntrega(rs.getDouble(\"taxaEntrega\"));\n                p.setCep(rs.getString(\"cep\"));\n                p.setEstado(rs.getString(\"estado\"));\n                p.setCidade(rs.getString(\"cidade\"));\n                p.setBairro(rs.getString(\"bairro\"));\n                p.setNumero(rs.getInt(\"numero\"));\n                p.setHorarioSemana(rs.getString(\"horarioSemana\"));\n                p.setHorarioFimSemana(rs.getString(\"horarioFimSemana\"));\n\n                String formasPagamento = rs.getString(\"formasPagamento\");\n                if (formasPagamento != null && !formasPagamento.isEmpty()) {\n                    p.setFormasPagamento(Arrays.asList(formasPagamento.split(\",\")));\n                } else {\n                    p.setFormasPagamento(new ArrayList<>());\n                }\n\n\n                parceiros.add(p);\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar parceiros: \" + e.getMessage(), e);\n        }\n\n        return parceiros;\n    }\n\n\n    // READ BY ID\n    public Parceiro buscarPorId(int id) {\n        String sql = \"SELECT * FROM Parceiro WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) {\n\n                Parceiro p = new Parceiro();\n                p.setId(rs.getInt(\"id\"));\n                p.setCnpj(rs.getString(\"cnpj\"));\n                p.setNome(rs.getString(\"nome\"));\n                p.setSenha(rs.getString(\"senha\"));\n                p.setTelefone(rs.getString(\"telefone\"));\n                p.setEmail(rs.getString(\"email\"));\n                p.setEndereco(rs.getString(\"endereco\"));\n                p.setCategoria(rs.getString(\"categoria\"));\n                p.setTaxaEntrega(rs.getDouble(\"taxaEntrega\"));\n                p.setCep(rs.getString(\"cep\"));\n                p.setEstado(rs.getString(\"estado\"));\n                p.setCidade(rs.getString(\"cidade\"));\n                p.setBairro(rs.getString(\"bairro\"));\n                p.setNumero(rs.getInt(\"numero\"));\n                p.setHorarioSemana(rs.getString(\"horarioSemana\"));\n                p.setHorarioFimSemana(rs.getString(\"horarioFimSemana\"));\n\n                String formasPagamento = rs.getString(\"formasPagamento\");\n                if (formasPagamento != null && !formasPagamento.isEmpty()) {\n                    p.setFormasPagamento(Arrays.asList(formasPagamento.split(\",\")));\n                } else {\n                    p.setFormasPagamento(new ArrayList<>());\n                }\n\n                return p;\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar parceiro: \" + e.getMessage(), e);\n        }\n\n        return null;\n    }\n    public Parceiro login(String email, String senha) {\n        String sql = \"SELECT * FROM Parceiro WHERE email = ? AND senha = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, email);\n            stmt.setString(2, senha);\n\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) {\n                // --- Mapeamento feito aqui dentro ---\n                Parceiro p = new Parceiro();\n                p.setId(rs.getInt(\"id\"));\n                p.setCnpj(rs.getString(\"cnpj\"));\n                p.setNome(rs.getString(\"nome\"));\n                p.setSenha(rs.getString(\"senha\"));\n                p.setTelefone(rs.getString(\"telefone\"));\n                p.setEmail(rs.getString(\"email\"));\n                p.setEndereco(rs.getString(\"endereco\"));\n                p.setCategoria(rs.getString(\"categoria\"));\n                p.setTaxaEntrega(rs.getDouble(\"taxaEntrega\"));\n                p.setCep(rs.getString(\"cep\"));\n                p.setEstado(rs.getString(\"estado\"));\n                p.setCidade(rs.getString(\"cidade\"));\n                p.setBairro(rs.getString(\"bairro\"));\n                p.setNumero(rs.getInt(\"numero\"));\n                p.setHorarioSemana(rs.getString(\"horarioSemana\"));\n                p.setHorarioFimSemana(rs.getString(\"horarioFimSemana\"));\n\n                String formasPagamento = rs.getString(\"formasPagamento\");\n                if (formasPagamento != null && !formasPagamento.isEmpty()) {\n                    p.setFormasPagamento(Arrays.asList(formasPagamento.split(\",\")));\n                } else {\n                    p.setFormasPagamento(new ArrayList<>());\n                }\n                return p;\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao fazer login: \" + e.getMessage(), e);\n        }\n\n        return null;\n    }\n\n\n    // UPDATE\n    public void atualizar(Parceiro parceiro) {\n        String sql = \"\"\"\n            UPDATE Parceiro SET \n            cnpj = ?, nome = ?, senha = ?, telefone = ?, email = ?, endereco = ?, categoria = ?, taxaEntrega = ?, \n            cep = ?, estado = ?, cidade = ?, bairro = ?, numero = ?, horarioSemana = ?, horarioFimSemana = ?, \n            formasPagamento = ?\n            WHERE id = ?\n        \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, parceiro.getCnpj());\n            stmt.setString(2, parceiro.getNome());\n            stmt.setString(3, parceiro.getSenha());\n            stmt.setString(4, parceiro.getTelefone());\n            stmt.setString(5, parceiro.getEmail());\n            stmt.setString(6, parceiro.getEndereco());\n            stmt.setString(7, parceiro.getCategoria());\n            stmt.setDouble(8, parceiro.getTaxaEntrega());\n            stmt.setString(9, parceiro.getCep());\n            stmt.setString(10, parceiro.getEstado());\n            stmt.setString(11, parceiro.getCidade());\n            stmt.setString(12, parceiro.getBairro());\n            stmt.setInt(13, parceiro.getNumero());\n            stmt.setString(14, parceiro.getHorarioSemana());\n            stmt.setString(15, parceiro.getHorarioFimSemana());\n\n            String formasPagamento = String.join(\",\", parceiro.getFormasPagamento());\n            stmt.setString(16, formasPagamento);\n\n            stmt.setInt(17, parceiro.getId());\n\n            int rowsAffected = stmt.executeUpdate();\n\n            if (rowsAffected == 0) {\n                throw new RuntimeException(\"Parceiro n√£o encontrado!\");\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao atualizar parceiro: \" + e.getMessage(), e);\n        }\n    }\n    // DELETE\n    public void deletar(int id) {\n        String sql = \"DELETE FROM Parceiro WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n\n            int rowsAffected = stmt.executeUpdate();\n\n            if (rowsAffected == 0) {\n                throw new RuntimeException(\"Parceiro n√£o encontrado!\");\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao remover parceiro: \" + e.getMessage(), e);\n        }\n    }\n}","size_bytes":10264},"src/main/java/br/com/pedija/superadm/dao/PromocaoDAO.java":{"content":"package br.com.pedija.superadm.dao;\n\nimport br.com.pedija.superadm.database.DatabaseConnection;\nimport br.com.pedija.superadm.model.Promocao;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class PromocaoDAO {\n\n    // CREATE\n    public void criar(Promocao promocao) {\n        String sql = \"\"\"\n            INSERT INTO Promocao (idProduto, idParceiro, precoOriginal, precoPromocional, ativa)\n            VALUES (?, ?, ?, ?, ?)\n        \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {\n\n            stmt.setInt(1, promocao.getIdProduto());\n            stmt.setInt(2, promocao.getIdParceiro());\n            stmt.setDouble(3, promocao.getPrecoOriginal());\n            stmt.setDouble(4, promocao.getPrecoPromocional());\n            stmt.setBoolean(5, promocao.isAtiva()); // Salva o status 'ativa'\n\n            stmt.executeUpdate();\n\n            ResultSet rs = stmt.getGeneratedKeys();\n            if (rs.next()) {\n                promocao.setId(rs.getInt(1));\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao cadastrar promo√ß√£o: \" + e.getMessage(), e);\n        }\n    }\n\n\n    public List<Promocao> listarPorParceiro(int idParceiro) {\n        List<Promocao> lista = new ArrayList<>();\n        String sql = \"SELECT * FROM Promocao WHERE idParceiro = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, idParceiro);\n            ResultSet rs = stmt.executeQuery();\n\n            while (rs.next()) {\n                lista.add(mapPromocao(rs));\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar promo√ß√µes: \" + e.getMessage(), e);\n        }\n        return lista;\n    }\n\n\n    public List<Promocao> listarAtivasPorParceiro(int idParceiro) {\n        List<Promocao> lista = new ArrayList<>();\n\n        String sql = \"SELECT * FROM Promocao WHERE idParceiro = ? AND ativa = TRUE\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, idParceiro);\n            ResultSet rs = stmt.executeQuery();\n\n            while (rs.next()) {\n                lista.add(mapPromocao(rs));\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar promo√ß√µes ativas: \" + e.getMessage(), e);\n        }\n        return lista;\n    }\n\n\n    public void atualizarStatus(int idPromocao, boolean ativa) {\n        String sql = \"UPDATE Promocao SET ativa = ? WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setBoolean(1, ativa);\n            stmt.setInt(2, idPromocao);\n            stmt.executeUpdate();\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao atualizar status da promo√ß√£o: \" + e.getMessage(), e);\n        }\n    }\n\n    // DELETE\n    public void deletar(int id) {\n        String sql = \"DELETE FROM Promocao WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n            stmt.executeUpdate();\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao remover promo√ß√£o: \" + e.getMessage(), e);\n        }\n    }\n\n\n    private Promocao mapPromocao(ResultSet rs) throws SQLException {\n        Promocao p = new Promocao();\n        p.setId(rs.getInt(\"id\"));\n        p.setIdProduto(rs.getInt(\"idProduto\"));\n        p.setIdParceiro(rs.getInt(\"idParceiro\"));\n        p.setPrecoOriginal(rs.getDouble(\"precoOriginal\"));\n        p.setPrecoPromocional(rs.getDouble(\"precoPromocional\"));\n        p.setAtiva(rs.getBoolean(\"ativa\")); // L√™ o campo 'ativa'\n        return p;\n    }\n}","size_bytes":4078},"src/main/java/br/com/pedija/superadm/dao/ProdutoDAO.java":{"content":"package br.com.pedija.superadm.dao;\n\nimport br.com.pedija.superadm.database.DatabaseConnection;\nimport br.com.pedija.superadm.model.Produto;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ProdutoDAO {\n\n    // CREATE\n    public void criar(Produto produto) {\n\n        String sql = \"\"\"\n            INSERT INTO produtos \n            (nome, descricao, preco, quantidade, categoria_id, idParceiro, disponivel)\n            VALUES (?, ?, ?, ?, ?, ?, ?)\n        \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {\n\n            stmt.setString(1, produto.getNome());\n            stmt.setString(2, produto.getDescricao());\n            stmt.setDouble(3, produto.getPreco());\n            stmt.setInt(4, produto.getQuantidade());\n            stmt.setObject(5, produto.getCategoria_id(), Types.INTEGER);\n            stmt.setInt(6, produto.getIdParceiro());\n            stmt.setBoolean(7, produto.isDisponivel());\n\n            stmt.executeUpdate();\n\n            ResultSet rs = stmt.getGeneratedKeys();\n            if (rs.next()) {\n                produto.setId(rs.getInt(1));\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao adicionar produto: \" + e.getMessage(), e);\n        }\n    }\n\n    // READ - todos\n    public List<Produto> buscarTodos() {\n        List<Produto> produtos = new ArrayList<>();\n        String sql = \"SELECT * FROM produtos ORDER BY id\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(sql)) {\n\n            while (rs.next()) {\n                produtos.add(mapProduto(rs));\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar produtos: \" + e.getMessage(), e);\n        }\n\n        return produtos;\n    }\n\n    // READ - por parceiro\n    public List<Produto> buscarPorParceiro(int idParceiro) {\n\n        List<Produto> produtos = new ArrayList<>();\n        String sql = \"SELECT * FROM produtos WHERE idParceiro = ? ORDER BY id\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, idParceiro);\n            ResultSet rs = stmt.executeQuery();\n\n            while (rs.next()) {\n                produtos.add(mapProduto(rs));\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar produtos: \" + e.getMessage(), e);\n        }\n\n        return produtos;\n    }\n\n    // READ - por ID\n    public Produto buscarPorId(int id) {\n\n        String sql = \"SELECT * FROM produtos WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) {\n                return mapProduto(rs);\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar produto: \" + e.getMessage(), e);\n        }\n\n        return null;\n    }\n\n    // READ - por Nome\n    public Produto buscarPorNome(String nome) {\n\n        String sql = \"SELECT * FROM produtos WHERE nome = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, nome);\n\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) {\n                return mapProduto(rs);\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar produto: \" + e.getMessage(), e);\n        }\n\n        return null;\n    }\n\n\n    // UPDATE\n    public void atualizar(Produto produto) {\n\n        String sql = \"\"\"\n            UPDATE produtos \n            SET nome = ?, descricao = ?, preco = ?, quantidade = ?, categoria_id = ? \n            WHERE id = ?\n        \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, produto.getNome());\n            stmt.setString(2, produto.getDescricao());\n            stmt.setDouble(3, produto.getPreco());\n            stmt.setInt(4, produto.getQuantidade());\n            stmt.setObject(5, produto.getCategoria_id());\n            stmt.setInt(6, produto.getId());\n\n            stmt.executeUpdate();\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao atualizar produto: \" + e.getMessage(), e);\n        }\n    }\n\n    // UPDATE - disponibilidade\n    public boolean alterarDisponibilidade(int id, boolean disponivel) {\n\n        String sql = \"UPDATE produtos SET disponivel = ? WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setBoolean(1, disponivel);\n            stmt.setInt(2, id);\n\n            return stmt.executeUpdate() > 0;\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao atualizar disponibilidade: \" + e.getMessage(), e);\n        }\n    }\n\n    // DELETE\n    public void deletar(int id) {\n\n        String sql = \"DELETE FROM produtos WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n            stmt.executeUpdate();\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao remover produto: \" + e.getMessage(), e);\n        }\n    }\n\n\n    private Produto mapProduto(ResultSet rs) throws SQLException {\n\n        Produto p = new Produto();\n\n        p.setId(rs.getInt(\"id\"));\n        p.setNome(rs.getString(\"nome\"));\n        p.setDescricao(rs.getString(\"descricao\"));\n        p.setPreco(rs.getDouble(\"preco\"));\n        p.setQuantidade(rs.getInt(\"quantidade\"));\n        p.setCategoria_id(rs.getInt(\"categoria_id\"));\n        p.setIdParceiro(rs.getInt(\"idParceiro\"));\n        p.setDisponivel(rs.getBoolean(\"disponivel\"));\n\n        return p;\n    }\n\n    public int contarPorParceiro(int idParceiro) {\n\n            String sql = \"SELECT COUNT(*) AS total FROM produtos WHERE idParceiro = ?\";\n            try (Connection conn = DatabaseConnection.getConnection();\n                 PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n                stmt.setInt(1, idParceiro);\n                ResultSet rs = stmt.executeQuery();\n                if (rs.next()) {\n                    return rs.getInt(\"total\");\n                }\n            } catch (SQLException e) {\n                throw new RuntimeException(\"Erro ao contar produtos: \" + e.getMessage(), e);\n            }\n            return 0;\n    }\n\n    public List<Produto> listarMaisVendidos(int idParceiro) {\n        List<Produto> produtos = new ArrayList<>();\n\n        String sql = \"\"\"\n            SELECT p.id, p.nome, p.descricao, p.preco, p.quantidade, p.idParceiro, p.disponivel\n            FROM ItemPedido ip\n            JOIN Pedido ped ON ip.pedidoId = ped.id\n            JOIN produtos p ON ip.produtoId = p.id\n            WHERE ped.idParceiro = ? AND ped.status = 'ENTREGUE'\n            GROUP BY p.id, p.nome, p.descricao, p.preco, p.quantidade, p.idParceiro, p.disponivel\n            ORDER BY SUM(ip.quantidade) DESC\n            LIMIT 5\n        \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, idParceiro);\n            ResultSet rs = stmt.executeQuery();\n\n            while (rs.next()) {\n                // Reutiliza o mapProduto para transformar o resultado em objeto\n                produtos.add(mapProduto(rs));\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar produtos mais vendidos: \" + e.getMessage(), e);\n        }\n        return produtos;\n    }\n\n}\n","size_bytes":8142},"src/main/java/br/com/pedija/superadm/model/Promocao.java":{"content":"package br.com.pedija.superadm.model;\n\n\npublic class Promocao {\n    private int id;\n    private int idProduto;\n    private int idParceiro;\n    private double precoOriginal;\n    private double precoPromocional;\n\n  //teste erro\n    private double percentualDesconto;\n    private boolean ativa;\n //teste erro\n public double getPercentualDesconto() {\n     if (precoOriginal == 0) {\n         return 0;\n     }\n     return ((precoOriginal - precoPromocional) / precoOriginal) * 100;\n }\n\n\n    public void setPercentualDesconto(double percentualDesconto) {\n        this.percentualDesconto = percentualDesconto;\n    }\n\n    public boolean isAtiva() {\n        return ativa;\n    }\n\n    public void setAtiva(boolean ativa) {\n        this.ativa = ativa;\n    }\n//teste erro\n\n\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getIdProduto() {\n        return idProduto;\n    }\n\n    public void setIdProduto(int idProduto) {\n        this.idProduto = idProduto;\n    }\n\n    public int getIdParceiro() {\n        return idParceiro;\n    }\n\n    public void setIdParceiro(int idParceiro) {\n        this.idParceiro = idParceiro;\n    }\n\n    public double getPrecoOriginal() {\n        return precoOriginal;\n    }\n\n    public void setPrecoOriginal(double precoOriginal) {\n        this.precoOriginal = precoOriginal;\n    }\n\n    public double getPrecoPromocional() {\n        return precoPromocional;\n    }\n\n    public void setPrecoPromocional(double precoPromocional) {\n        this.precoPromocional = precoPromocional;\n    }\n}\n","size_bytes":1574},"src/main/java/br/com/pedija/consumidor/view/perfil/Configuracoes.java":{"content":"package br.com.pedija.consumidor.view.perfil;\n\npublic class Configuracoes {\n}\n","size_bytes":78},"README.md":{"content":"Projeto POO\n","size_bytes":12},"src/main/java/br/com/pedija/consumidor/view/BuscaProdutoConsumidor.java":{"content":"package br.com.pedija.consumidor.view;\n\n\nimport br.com.pedija.consumidor.controller.CarrinhoController;\nimport br.com.pedija.superadm.model.Produto;\nimport br.com.pedija.consumidor.controller.ProdutoController;\nimport br.com.pedija.superadm.dao.ProdutoDAO;\n\n\n\nimport java.util.Scanner;\n\n\npublic class BuscaProdutoConsumidor {\n\n\n    private Scanner sc = new Scanner(System.in);;\n    private final ProdutoController produtoController = new ProdutoController();\n    private CarrinhoController carrinhoController;\n    ProdutoDAO produtoDAO = new ProdutoDAO();\n\n\n    public BuscaProdutoConsumidor(CarrinhoController carrinhoController) {\n        this.carrinhoController = carrinhoController;\n    }\n\n\n    void exibirbuscarProdutos() {\n\n        while (true) {\n\n\n            System.out.println(\"\\nQual produto voc√™ gostaria de pedir? (digite 0 para voltar)\");\n            System.out.print(\"Digite: \");\n            String entrada = sc.nextLine().trim();\n\n\n            if (entrada.equals(\"0\")) {\n                return; // volta para o menu\n            }\n            if (entrada.isEmpty()) {\n                System.out.println(\"Escreva um nome v√°lido.\\n\");\n                continue;\n            }\n\n            produtoController.buscarPorNome(entrada);\n\n            Produto produto = produtoController.buscarPorNome(entrada);\n\n\n            if (produto != null) {\n                System.out.println(\"\\nProduto encontrado com sucesso!\");\n                System.out.println(\"Produto: \" + produto.getNome());\n                System.out.println(\"Descri√ß√£o: \" + produto.getDescricao());\n                System.out.printf(\"Pre√ßo: R$ %.2f%n\", produto.getPreco());\n                System.out.println(\"Loja: \" + produto.getNomeParceiro());\n                System.out.println();\n\n\n                System.out.println(\"[1] Adicionar ao carrinho\");\n                System.out.println(\"[2] Voltar √† busca\");\n                System.out.print(\"Escolha: \");\n                String op = sc.nextLine().trim();\n\n\n                if (op.equals(\"1\")) {\n                    carrinhoController.adicionar(produto);\n                    System.out.println(\"\\nProduto adicionado ao carrinho! Voltando ao menu...\");\n                    return; // volta para menu principal ap√≥s adicionar\n                } else {\n                    // volta para a busca de produtos\n                    continue;\n                }\n\n            } else {\n                System.out.println(\"\\nProduto n√£o encontrado! Tente outro nome.\");\n            }\n\n\n        }\n    }\n}\n\n\n\n","size_bytes":2524},"src/main/java/br/com/pedija/parceiro/controller/ProdutoController.java":{"content":"package br.com.pedija.parceiro.controller;\n\nimport br.com.pedija.superadm.dao.ProdutoDAO;\nimport br.com.pedija.superadm.model.Produto;\nimport java.util.List;\n\npublic class ProdutoController {\n\n    private final ProdutoDAO produtoDAO = new ProdutoDAO();\n\n    public boolean adicionarProduto(Produto produto) {\n        try {\n            produtoDAO.criar(produto);\n            return true;\n        } catch (Exception e) {\n            System.out.println(\"Erro ao adicionar produto: \" + e.getMessage());\n            return false;\n        }\n    }\n\n    public boolean atualizarProduto(Produto produto) {\n        try {\n            produtoDAO.atualizar(produto);\n            return true;\n        } catch (Exception e) {\n            System.out.println(\"Erro ao atualizar produto: \" + e.getMessage());\n            return false;\n        }\n    }\n\n    public Produto buscarPorId(int id) {\n        return produtoDAO.buscarPorId(id);\n    }\n\n    public List<Produto> listarPorParceiros(int idParceiro) {\n        return produtoDAO.buscarPorParceiro(idParceiro);\n    }\n\n    public boolean remover(int id) {\n        try {\n            produtoDAO.deletar(id);\n            return true;\n        } catch (Exception e) {\n            System.out.println(\"Erro ao remover produto: \" + e.getMessage());\n            return false;\n        }\n    }\n\n    public boolean alterarDisponibilidade(int id, boolean disponivel) {\n        return produtoDAO.alterarDisponibilidade(id, disponivel);\n    }\n\n    public List<Produto> listarMaisVendidos(int idParceiro) {\n        return produtoDAO.listarMaisVendidos(idParceiro);\n    }\n\n    // CONTAR QUANTOS PRODUTOS TEM O PARCEIRO\n    public int contarPorParceiro(int idParceiro) {\n        return produtoDAO.contarPorParceiro(idParceiro);\n    }\n}\n","size_bytes":1750},"src/main/java/br/com/pedija/superadm/dao/PedidoDAO.java":{"content":"package br.com.pedija.superadm.dao;\n\nimport br.com.pedija.superadm.database.DatabaseConnection;\nimport br.com.pedija.superadm.model.Pedido;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class PedidoDAO {\n\n    // CREATE\n    public void criar(Pedido pedido) {\n        String sql = \"\"\"\n            INSERT INTO Pedido \n            (idusuario, nomeCliente, valorTotal, idEntregador, status, endereco, formaPagamento, idParceiro)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n        \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {\n\n            stmt.setInt(1, pedido.getIdUsuario());\n            stmt.setString(2, pedido.getNomeCliente());\n            stmt.setDouble(3, pedido.getValorTotal());\n            stmt.setObject(4, pedido.getIdEntregador(), Types.INTEGER);\n            stmt.setString(5, pedido.getStatus());\n            stmt.setString(6, pedido.getEndereco());\n            stmt.setString(7, pedido.getFormaPagamento());\n            stmt.setObject(8, pedido.getIdParceiro(), Types.INTEGER);\n\n            stmt.executeUpdate();\n\n            ResultSet rs = stmt.getGeneratedKeys();\n            if (rs.next()) pedido.setId(rs.getInt(1));\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao criar pedido: \" + e.getMessage(), e);\n        }\n\n\n    }\n\n    public List<Pedido> listarTodos() {\n        List<Pedido> pedidos = new ArrayList<>();\n        String sql = \"SELECT * FROM Pedido ORDER BY id DESC\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(sql)) {\n\n            while (rs.next()) pedidos.add(mapPedido(rs));\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar todos os pedidos: \" + e.getMessage(), e);\n        }\n        return pedidos;\n    }\n\n    // READ\n    public Pedido buscarPorId(int id) {\n        String sql = \"SELECT * FROM Pedido WHERE id = ?\";\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) return mapPedido(rs);\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar pedido: \" + e.getMessage(), e);\n        }\n        return null;\n    }\n\n    // UPDATE\n    public void atualizar(Pedido pedido) {\n        String sql = \"\"\"\n            UPDATE Pedido \n            SET status = ?, valorTotal = ?, endereco = ?, formaPagamento = ?\n            WHERE id = ?\n        \"\"\";\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, pedido.getStatus());\n            stmt.setDouble(2, pedido.getValorTotal());\n            stmt.setString(3, pedido.getEndereco());\n            stmt.setString(4, pedido.getFormaPagamento());\n            stmt.setInt(5, pedido.getId());\n\n            stmt.executeUpdate();\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao atualizar pedido: \" + e.getMessage(), e);\n        }\n    }\n\n    // DELETE\n    public void deletar(int id) {\n        String sql = \"DELETE FROM Pedido WHERE id = ?\";\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n            stmt.setInt(1, id);\n            stmt.executeUpdate();\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao deletar pedido: \" + e.getMessage(), e);\n        }\n    }\n\n    // READ - por status\n    public List<Pedido> buscarPorStatus(String status) {\n        List<Pedido> pedidos = new ArrayList<>();\n        String sql = \"SELECT * FROM Pedido WHERE status = ? ORDER BY id DESC\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, status);\n            ResultSet rs = stmt.executeQuery();\n\n            while (rs.next()) pedidos.add(mapPedido(rs));\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar pedidos: \" + e.getMessage(), e);\n        }\n        return pedidos;\n    }\n\n    private Pedido mapPedido(ResultSet rs) throws SQLException {\n        Pedido p = new Pedido();\n        p.setId(rs.getInt(\"id\"));\n        p.setIdUsuario(rs.getInt(\"idUsuario\"));\n        p.setNomeCliente(rs.getString(\"nomeCliente\"));\n        p.setValorTotal(rs.getDouble(\"valorTotal\"));\n        p.setIdEntregador((Integer) rs.getObject(\"idEntregador\"));\n        p.setStatus(rs.getString(\"status\"));\n        p.setEndereco(rs.getString(\"endereco\"));\n        p.setFormaPagamento(rs.getString(\"formaPagamento\"));\n        p.setIdParceiro((Integer) rs.getObject(\"idParceiro\"));\n        return p;\n    }\n}\n","size_bytes":5034},"src/main/java/br/com/pedija/consumidor/view/TelaVerCarrinho.java":{"content":"package br.com.pedija.consumidor.view;\n\nimport br.com.pedija.consumidor.controller.CarrinhoController;\nimport br.com.pedija.consumidor.controller.PedidoController;\nimport br.com.pedija.consumidor.controller.UsuarioController;\nimport br.com.pedija.superadm.model.Pedido;\nimport br.com.pedija.superadm.model.Produto;\nimport br.com.pedija.superadm.model.Usuario;\n\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class TelaVerCarrinho {\n\n    private final UsuarioController usuarioController;\n    private final PedidoController pedidoController = new PedidoController();\n    private final Usuario usuario;\n    private final CarrinhoController carrinho;\n    private final Scanner sc;\n\n    public TelaVerCarrinho(CarrinhoController carrinho, Usuario usuario, UsuarioController usuarioController) {\n        this.carrinho = carrinho;\n        this.usuario = usuario;\n        this.usuarioController = usuarioController;\n        this.sc = new Scanner(System.in);\n    }\n\n    public void verCarrinho() {\n        if (carrinho.Vazio()) {\n            System.out.println(\"\\n==== MEU CARRINHO ====\\n\");\n            System.out.println(\"Seu carrinho est√° vazio.\\n\");\n            return;\n        }\n\n        while (true) {\n            System.out.println(\"\\n==== MEU CARRINHO ====\\n\");\n\n            int i = 1;\n            for (Produto p : carrinho.listar()) {\n                System.out.printf(\"%d - %s (R$ %.2f)\\n\", i++, p.getNome(), p.getPreco());\n            }\n            System.out.printf(\"\\nTotal: R$ %.2f\\n\\n\", carrinho.precoTotal());\n\n            System.out.println(\"[1] Remover item\");\n            System.out.println(\"[2] Finalizar pedido\");\n            System.out.println(\"[0] Voltar\");\n            System.out.print(\"Escolha: \");\n\n            int op = lerInt();\n\n            switch (op) {\n                case 1 -> removerItem();\n                case 2 -> finalizarPedido();\n                case 0 -> { return; }\n                default -> System.out.println(\"‚ùå Op√ß√£o inv√°lida! Digite 0, 1 ou 2.\\n\");\n            }\n        }\n    }\n\n    private void removerItem() {\n        System.out.print(\"Digite o n√∫mero do item a remover: \");\n        int numero = lerInt();\n        int indice = numero - 1;\n\n        if (indice < 0 || indice >= carrinho.listar().size()) {\n            System.out.println(\"‚ùå N√∫mero do item inv√°lido!\\n\");\n        } else {\n            carrinho.removerProduto(indice);\n            System.out.println(\"‚úÖ Item removido com sucesso!\\n\");\n        }\n    }\n\n    private void finalizarPedido() {\n        String forma = escolherFormaPagamento();\n        if (forma == null) {\n            System.out.println(\"\\n‚Ü© Pagamento cancelado. Voltando ao carrinho...\\n\");\n            return;\n        }\n\n        usuario.setFormadepagamento(forma);\n        usuarioController.atualizarUsuario(usuario);\n\n        Pedido revisao = pedidoController.revisaopedido(\n                carrinho.listar(),\n                usuario.getId(),\n                usuario.getNome(),\n                usuario.getEndereco(),\n                forma\n        );\n\n        exibirResumoPedido(revisao);\n\n        System.out.print(\"Escolha: \");\n        int conf = lerInt();\n\n        if (conf == 1) {\n            try {\n                pedidoController.criarPedido(revisao);\n                carrinho.limpar();\n                System.out.println(\"\\n‚úÖ Pedido confirmado com sucesso!\");\n            } catch (Exception e) {\n                System.out.println(\"\\n‚ùå Erro ao confirmar pedido: \" + e.getMessage());\n            }\n        } else {\n            System.out.println(\"\\n‚Ü© Pedido cancelado. Voltando ao carrinho...\\n\");\n        }\n    }\n\n    private void exibirResumoPedido(Pedido pedido) {\n        System.out.println(\"\\n=== RESUMO DO PEDIDO ===\");\n\n        List<Produto> itens = pedido.getItens();\n        if (itens == null || itens.isEmpty()) {\n            System.out.println(\"O pedido est√° vazio!\");\n            return;\n        }\n\n        int j = 1;\n        for (Produto it : itens) {\n            System.out.printf(\"%d - %s (R$ %.2f)%n\", j++, it.getNome(), it.getPreco());\n        }\n\n        System.out.printf(\"Total: R$ %.2f%n\", pedido.getValorTotal());\n        System.out.println(\"Nome: \" + pedido.getNomeCliente());\n        System.out.println(\"Endere√ßo: \" + pedido.getEndereco());\n        System.out.println(\"Forma de pagamento: \" + pedido.getFormaPagamento());\n        System.out.println(\"\\n[1] Confirmar pedido\");\n        System.out.println(\"[2] Voltar ao carrinho\");\n    }\n\n    private String escolherFormaPagamento() {\n        while (true) {\n            System.out.println(\"\\nQual a forma de pagamento?\");\n            System.out.println(\"[1] PIX\");\n            System.out.println(\"[2] Cart√£o de Cr√©dito\");\n            System.out.println(\"[3] Cart√£o de D√©bito\");\n            System.out.println(\"[4] Dinheiro\");\n            System.out.println(\"[0] Voltar\");\n            System.out.print(\"Escolha: \");\n\n            int escolha = lerInt();\n\n            switch (escolha) {\n                case 1 -> { return \"PIX\"; }\n                case 2 -> { return \"Cart√£o de Cr√©dito\"; }\n                case 3 -> { return \"Cart√£o de D√©bito\"; }\n                case 4 -> { return \"Dinheiro\"; }\n                case 0 -> { return null; }\n                default -> System.out.println(\"‚ùå Op√ß√£o inv√°lida! Digite 0 a 4.\\n\");\n            }\n        }\n    }\n\n    private int lerInt() {\n        while (true) {\n            String line = sc.nextLine().trim();\n            if (line.isEmpty()) {\n                System.out.print(\"Digite um n√∫mero v√°lido: \");\n                continue;\n            }\n            try {\n                return Integer.parseInt(line);\n            } catch (NumberFormatException e) {\n                System.out.print(\"Entrada inv√°lida! Digite apenas n√∫meros: \");\n            }\n        }\n    }\n}\n","size_bytes":5800},"src/main/java/br/com/pedija/superadm/database/H2ConnectionFactory.java":{"content":"package br.com.pedija.superadm.database;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class H2ConnectionFactory implements ConnectionFactory {\n    private static final String URL = \"jdbc:h2:./lojinha\";\n    private static final String USER = \"sa\";\n    private static final String PASSWORD = \"\";\n\n    private static H2ConnectionFactory instance;\n\n    // Singleton para garantir uma √∫nica inst√¢ncia da factory\n    private H2ConnectionFactory() {}\n\n    public static H2ConnectionFactory getInstance() {\n        if (instance == null) {\n            synchronized (H2ConnectionFactory.class) {\n                if (instance == null) {\n                    instance = new H2ConnectionFactory();\n                }\n            }\n        }\n        return instance;\n    }\n\n    @Override\n    public Connection getConnection() throws SQLException {\n        try {\n            // Opcional para H2 moderno, boa pr√°tica em manter\n            Class.forName(\"org.h2.Driver\");\n        } catch (ClassNotFoundException e) {\n            throw new SQLException(\"Driver H2 n√£o encontrado\", e);\n        }\n        return DriverManager.getConnection(URL, USER, PASSWORD);\n    }\n\n    @Override\n    public void closeConnection(Connection connection) throws SQLException {\n        if (connection != null && !connection.isClosed()) {\n            connection.close();\n        }\n    }\n\n    // √ötil para logs\n    public String getUrl() {\n        return URL;\n    }\n\n    public String getUser() {\n        return USER;\n    }\n}","size_bytes":1541},"src/main/java/br/com/pedija/superadm/dao/EntregadorDAO.java":{"content":"package br.com.pedija.superadm.dao;\n\nimport br.com.pedija.superadm.database.DatabaseConnection;\nimport br.com.pedija.superadm.model.Entregador;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class EntregadorDAO {\n\n\n    public void criar(Entregador entregador) {\n\n        String sql = \"\"\"\n                INSERT INTO Entregador (nomeEntregador, telefone, cpf, veiculo, disponivel)\n                VALUES (?, ?, ?, ?, ?)\n                \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {\n\n            stmt.setString(1, entregador.getNomeEntregador());\n            stmt.setString(2, entregador.getTelefone());\n            stmt.setString(3, entregador.getCpf());\n            stmt.setString(4, entregador.getVeiculo());\n            stmt.setBoolean(5, entregador.isDisponivel());\n\n            stmt.executeUpdate();\n\n            // Pega o ID gerado pelo banco e salva no objeto\n            ResultSet rs = stmt.getGeneratedKeys();\n            if (rs.next()) {\n                entregador.setId(rs.getInt(1));\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao cadastrar entregador: \" + e.getMessage(), e);\n        }\n    }\n\n\n    // READ ALL\n    public List<Entregador> buscarTodos() {\n        List<Entregador> entregadores = new ArrayList<>();\n        // SQL CORRIGIDO: Nome da tabela 'Entregador'\n        String sql = \"SELECT * FROM Entregador ORDER BY id\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(sql)) {\n\n            while (rs.next()) {\n                entregadores.add(mapEntregador(rs)); // Usando o map\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar entregadores: \" + e.getMessage(), e);\n        }\n\n        return entregadores;\n    }\n\n\n    // READ BY ID\n    public Entregador buscarPorId(int id) {\n        // SQL CORRIGIDO: Nome da tabela 'Entregador'\n        String sql = \"SELECT * FROM Entregador WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) {\n                return mapEntregador(rs); // Usando o map\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar entregador: \" + e.getMessage(), e);\n        }\n\n        return null;\n    }\n\n    // READ - LISTAR DISPON√çVEIS (Adicionado do DAO 1, mas corrigido)\n    public List<Entregador> listarDisponiveis() {\n        List<Entregador> lista = new ArrayList<>();\n        // SQL CORRIGIDO: Nome da tabela 'Entregador'\n        String sql = \"SELECT * FROM Entregador WHERE disponivel = TRUE ORDER BY id\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql);\n             ResultSet rs = stmt.executeQuery()) {\n\n            while (rs.next()) {\n                lista.add(mapEntregador(rs));\n            }\n\n        } catch (SQLException ex) {\n            throw new RuntimeException(\"Erro ao listar entregadores dispon√≠veis: \" + ex.getMessage(), ex);\n        }\n\n        return lista;\n    }\n\n\n    // UPDATE\n    public void atualizar(Entregador entregador) {\n        // SQL CORRIGIDO: Nome da tabela 'Entregador'\n        String sql = \"\"\"\n                UPDATE Entregador\n                SET nomeEntregador = ?, telefone = ?, cpf = ?, veiculo = ?, disponivel = ?\n                WHERE id = ?\n                \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setString(1, entregador.getNomeEntregador());\n            stmt.setString(2, entregador.getTelefone());\n            stmt.setString(3, entregador.getCpf());\n            stmt.setString(4, entregador.getVeiculo());\n            stmt.setBoolean(5, entregador.isDisponivel());\n            stmt.setInt(6, entregador.getId());\n\n            int rowsAffected = stmt.executeUpdate();\n\n            if (rowsAffected == 0) {\n                throw new RuntimeException(\"Entregador n√£o encontrado!\");\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao atualizar entregador: \" + e.getMessage(), e);\n        }\n    }\n\n\n    // DELETE\n    public void deletar(int id) {\n        // SQL CORRIGIDO: Nome da tabela 'Entregador'\n        String sql = \"DELETE FROM Entregador WHERE id = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, id);\n\n            int rowsAffected = stmt.executeUpdate();\n\n            if (rowsAffected == 0) {\n                throw new RuntimeException(\"Entregador n√£o encontrado!\");\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao remover entregador: \" + e.getMessage(), e);\n        }\n    }\n\n    // MAP RESULTSET ‚Üí OBJETO (Reutiliz√°vel)\n    private Entregador mapEntregador(ResultSet rs) throws SQLException {\n        Entregador e = new Entregador();\n        e.setId(rs.getInt(\"id\"));\n        e.setNomeEntregador(rs.getString(\"nomeEntregador\"));\n        e.setTelefone(rs.getString(\"telefone\"));\n        e.setCpf(rs.getString(\"cpf\"));\n        e.setVeiculo(rs.getString(\"veiculo\"));\n        e.setDisponivel(rs.getBoolean(\"disponivel\"));\n        return e;\n    }\n}","size_bytes":5707},"src/main/java/br/com/pedija/parceiro/controller/PromocaoController.java":{"content":"package br.com.pedija.parceiro.controller;\n\nimport br.com.pedija.superadm.dao.PromocaoDAO;\nimport br.com.pedija.superadm.model.Promocao;\nimport java.util.List;\n\npublic class PromocaoController {\n\n    private PromocaoDAO promocaoDAO = new PromocaoDAO();\n\n    public boolean adicionar(Promocao promocao) {\n        try {\n            promocao.setAtiva(true);\n            promocaoDAO.criar(promocao);\n            return true;\n        } catch (Exception e) {\n            System.out.println(\"Erro ao adicionar promo√ß√£o: \" + e.getMessage());\n            return false;\n        }\n    }\n\n\n    public List<Promocao> listarTodasPorParceiro(int idParceiro) {\n        return promocaoDAO.listarPorParceiro(idParceiro);\n    }\n\n\n    public List<Promocao> listarAtivasPorParceiro(int idParceiro) {\n        return promocaoDAO.listarAtivasPorParceiro(idParceiro);\n    }\n\n    public boolean remover(int id) {\n        try {\n            promocaoDAO.deletar(id);\n            return true;\n        } catch (Exception e) {\n            System.out.println(\"Erro ao remover promo√ß√£o: \" + e.getMessage());\n            return false;\n        }\n    }\n\n    public boolean desativar(int idPromocao) {\n        try {\n            promocaoDAO.atualizarStatus(idPromocao, false);\n            return true;\n        } catch (Exception e) {\n            System.out.println(\"Erro ao desativar promo√ß√£o: \" + e.getMessage());\n            return false;\n        }\n    }\n\n    public boolean reativar(int idPromocao) {\n        try {\n            promocaoDAO.atualizarStatus(idPromocao, true);\n            return true;\n        } catch (Exception e) {\n            System.out.println(\"Erro ao reativar promo√ß√£o: \" + e.getMessage());\n            return false;\n        }\n    }\n}","size_bytes":1726},"src/main/java/br/com/pedija/parceiro/controller/ParceiroController.java":{"content":"package br.com.pedija.parceiro.controller;\n\nimport br.com.pedija.superadm.dao.ParceiroDAO;\nimport br.com.pedija.superadm.model.Parceiro;\n\npublic class ParceiroController {\n\n    private ParceiroDAO parceiroDAO = new ParceiroDAO();\n\n    public Parceiro login(String email, String senha) {\n\n        if (email == null || email.trim().isEmpty()) {\n            System.out.println(\"Email n√£o pode ser vazio!\");\n            return null;\n        }\n\n        if (senha == null || senha.trim().isEmpty()) {\n            System.out.println(\"Senha n√£o pode ser vazia!\");\n            return null;\n        }\n\n\n        Parceiro parceiro = parceiroDAO.login(email, senha);\n\n        if (parceiro == null) {\n            System.out.println(\"Email ou senha incorretos!\");\n            return null;\n        }\n\n        return parceiro;\n    }\n\n    public boolean cadastrar(Parceiro parceiro) {\n\n        if (parceiro.getNome() == null || parceiro.getNome().trim().isEmpty()) {\n            System.out.println(\"Nome √© obrigat√≥rio!\");\n            return false;\n        }\n\n        if (parceiro.getEmail() == null || !parceiro.getEmail().contains(\"@\")) {\n            System.out.println(\"Email inv√°lido!\");\n            return false;\n        }\n\n        if (parceiro.getSenha() == null || parceiro.getSenha().length() < 3) {\n            System.out.println(\"Senha deve ter pelo menos 3 caracteres!\");\n            return false;\n        }\n\n        if (parceiro.getCnpj() == null || parceiro.getCnpj().trim().isEmpty()) {\n            System.out.println(\"CNPJ √© obrigat√≥rio!\");\n            return false;\n        }\n\n        if (parceiro.getCategoria() == null) {\n            System.out.println(\"Categoria obrigat√≥ria!\");\n            return false;\n        }\n\n        if (parceiro.getFormasPagamento() == null || parceiro.getFormasPagamento().isEmpty()) {\n            System.out.println(\"Formas de pagamento s√£o obrigat√≥rias!\");\n            return false;\n        }\n\n        parceiroDAO.criar(parceiro);\n\n        System.out.println(\"Parceiro cadastrado no banco!\");\n        return true;\n    }\n\n    public Parceiro buscarPorId(int id) {\n        return parceiroDAO.buscarPorId(id);\n    }\n\n    public boolean atualizar(Parceiro parceiro) {\n        try {\n            parceiroDAO.atualizar(parceiro);\n            return true;\n        } catch (Exception e) {\n            System.out.println(\"Erro ao atualizar: \" + e.getMessage());\n            return false;\n        }\n    }\n\n}","size_bytes":2434},"src/main/java/br/com/pedija/App.java":{"content":"package br.com.pedija;\n\n\nimport br.com.pedija.superadm.database.DatabaseConnection;\nimport br.com.pedija.superadm.view.EscolherAppview;\n\npublic class App {\n    public static void main(String[] args) {\n        DatabaseConnection.initDatabase();\n        EscolherAppview escolherAppview = new EscolherAppview();\n\n\n\n        escolherAppview.EscolherAppview();\n\n    }\n}","size_bytes":363},"src/main/java/br/com/pedija/superadm/model/Produto.java":{"content":"package br.com.pedija.superadm.model;\nimport br.com.pedija.superadm.model.Parceiro;\n\n\npublic class Produto {\n\n    private int id;\n    private String nome;\n    private String descricao;\n    private double preco;\n    private int quantidade;\n    private int categoria_id;\n    private int idParceiro;\n    private boolean disponivel;\n    private String NomeParceiro;\n\n    public Produto() {\n    }\n\n    public String getNomeParceiro() {\n        return NomeParceiro;\n    }\n\n    public void setNomeParceiro(String nomeParceiro) {\n        NomeParceiro = nomeParceiro;\n    }\n\n    public Produto(int i, String pizzaCalabresa, String pizzaGrandeComCalabresa, double v, String moema) {\n    }\n\n    // GETTERS E SETTERS CORRETOS\n\n    public int getId() { return id; }\n    public void setId(int id) { this.id = id; }\n\n    public String getNome() { return nome; }\n    public void setNome(String nome) { this.nome = nome; }\n\n    public String getDescricao() { return descricao; }\n    public void setDescricao(String descricao) { this.descricao = descricao; }\n\n    public double getPreco() { return preco; }\n    public void setPreco(double preco) { this.preco = preco; }\n\n    public int getQuantidade() { return quantidade; }\n    public void setQuantidade(int quantidade) { this.quantidade = quantidade; }\n\n    public Integer getCategoria_id() { return categoria_id; }\n    public void setCategoria_id(Integer categoria_id) { this.categoria_id = categoria_id; }\n\n    public int getIdParceiro() { return idParceiro; }\n    public void setIdParceiro(int idParceiro) { this.idParceiro = idParceiro; }\n\n    public boolean isDisponivel() { return disponivel; }\n    public void setDisponivel(boolean disponivel) { this.disponivel = disponivel; }\n\n}\n","size_bytes":1722},"src/main/java/br/com/pedija/consumidor/controller/CarrinhoController.java":{"content":"package br.com.pedija.consumidor.controller;\n\n\nimport br.com.pedija.superadm.model.Produto;\nimport java.util.ArrayList;\n\n\npublic class CarrinhoController {\n\n\n    private final ArrayList<Produto> itens = new ArrayList<>();\n\n\n    public void adicionar(Produto p) {\n        itens.add(p);\n    }\n\n\n    public ArrayList<Produto> listar() {\n        return itens;\n    }\n\n\n    public boolean Vazio() {\n        return itens.isEmpty();\n    }\n\n\n    public void removerProduto(int numero) {\n        if (numero >= 0 && numero < itens.size()) {\n            itens.remove(numero);\n        }\n    }\n\n\n    public double precoTotal() {\n        double total = 0;\n        for (Produto p : itens) {\n            total += p.getPreco();\n        }\n        return total;\n    }\n\n\n    public void limpar() {\n        itens.clear();\n    }\n\n\n}\n\n","size_bytes":811},"src/main/java/br/com/pedija/consumidor/view/perfil/TelaPerfil.java":{"content":"package br.com.pedija.consumidor.view.perfil;\n\nimport br.com.pedija.consumidor.view.perfil.DadosConta;\nimport br.com.pedija.consumidor.controller.UsuarioController;\nimport br.com.pedija.superadm.model.Usuario;\nimport java.util.Scanner;\n\n\npublic class TelaPerfil {\n\n    DadosConta dadosConta = new DadosConta();\n    private final Scanner sc;\n    private final Usuario usuarioLogado;\n    private final UsuarioController controller;\n\n    public TelaPerfil(Usuario usuarioLogado, UsuarioController controller) {\n\n        this.sc = new Scanner(System.in);\n        this.usuarioLogado = usuarioLogado;\n        this.controller = controller;\n    }\n\n    public void verPerfil() {\n\n        int opcao = -1;\n\n        do {\n            System.out.println(\"------------------------------\");\n            System.out.println(\" 1 - Dados da Conta           \");\n            System.out.println(\" 2 - Pagamentos               \");\n            System.out.println(\" 3 - Endere√ßos                \");\n            System.out.println(\" 0 - voltar                   \");\n            System.out.println(\"------------------------------\");\n\n            System.out.print(\"\\nEscolha uma op√ß√£o: \");\n\n            try {\n\n                String line = sc.nextLine().trim();\n                opcao = line.isEmpty() ? -1 : Integer.parseInt(line);\n                if (opcao != -1) {\n                    resultadoOpcao(opcao);\n                }\n\n            } catch (NumberFormatException erro) {\n                System.out.println(\"Op√ß√£o inv√°lida! Digite apenas n√∫meros.\");\n            }\n\n\n        } while (opcao != 0);\n\n    }\n    //So op√ß√£o 1 com metodo\n    private void resultadoOpcao(int opcao) {\n        switch (opcao) {\n\n            case 1:\n                System.out.println(\"Dados da Conta\");\n                dadosConta.exibirDados();\n                break;\n\n            case 2:\n                System.out.println(\"Pagamentos da Conta\");\n                break;\n\n            case 3:\n                System.out.println(\"Endere√ßos\");\n                break;\n\n            case 0:\n                return;\n\n            default:System.out.println(\"Op√ß√£o inv√°lida!\");\n                break;\n\n        }\n    }\n}","size_bytes":2175},"src/main/java/br/com/pedija/superadm/dao/PagamentoDAO.java":{"content":"package br.com.pedija.superadm.dao;\n\nimport br.com.pedija.superadm.database.DatabaseConnection;\nimport br.com.pedija.superadm.model.Pagamento;\n\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class PagamentoDAO {\n\n    // CREATE\n    public void criar(Pagamento pagamento) {\n        String sql = \"INSERT INTO pagamento (idpagamento, valor, forma, prazo) VALUES (?, ?, ?, ?)\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, pagamento.getIdpagamento());\n            stmt.setDouble(2, pagamento.getValor());\n            stmt.setString(3, pagamento.getForma());\n            stmt.setInt(4, pagamento.getPrazo());\n\n            stmt.executeUpdate();\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao cadastrar pagamento: \" + e.getMessage(), e);\n        }\n    }\n\n\n    // READ ALL\n    public List<Pagamento> buscarTodos() {\n        List<Pagamento> pagamentos = new ArrayList<>();\n        String sql = \"SELECT * FROM pagamento ORDER BY idpagamento\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(sql)) {\n\n            while (rs.next()) {\n                Pagamento p = new Pagamento();\n                p.setIdpagamento(rs.getInt(\"idpagamento\"));\n                p.setValor(rs.getDouble(\"valor\"));\n                p.setForma(rs.getString(\"forma\"));\n                p.setPrazo(rs.getInt(\"prazo\"));\n\n                pagamentos.add(p);\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao listar pagamentos: \" + e.getMessage(), e);\n        }\n\n        return pagamentos;\n    }\n\n\n    // READ BY ID\n    public Pagamento buscarPorId(int idpagamento) {\n        String sql = \"SELECT * FROM pagamento WHERE idpagamento = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, idpagamento);\n            ResultSet rs = stmt.executeQuery();\n\n            if (rs.next()) {\n                Pagamento p = new Pagamento();\n                p.setIdpagamento(rs.getInt(\"idpagamento\"));\n                p.setValor(rs.getDouble(\"valor\"));\n                p.setForma(rs.getString(\"forma\"));\n                p.setPrazo(rs.getInt(\"prazo\"));\n                return p;\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao buscar pagamento por ID: \" + e.getMessage(), e);\n        }\n\n        return null;\n    }\n\n\n    // UPDATE\n    public void atualizar(Pagamento pagamento) {\n        String sql = \"\"\"\n                UPDATE pagamento\n                SET valor = ?, forma = ?, prazo = ?\n                WHERE idpagamento = ?\n                \"\"\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setDouble(1, pagamento.getValor());\n            stmt.setString(2, pagamento.getForma());\n            stmt.setInt(3, pagamento.getPrazo());\n            stmt.setInt(4, pagamento.getIdpagamento());\n\n            int rowsAffected = stmt.executeUpdate();\n            if (rowsAffected == 0) {\n                throw new RuntimeException(\"Pagamento n√£o encontrado!\");\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao atualizar pagamento: \" + e.getMessage(), e);\n        }\n    }\n\n\n    // DELETE\n    public void deletar(int idpagamento) {\n        String sql = \"DELETE FROM pagamento WHERE idpagamento = ?\";\n\n        try (Connection conn = DatabaseConnection.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(sql)) {\n\n            stmt.setInt(1, idpagamento);\n\n            int rowsAffected = stmt.executeUpdate();\n            if (rowsAffected == 0) {\n                throw new RuntimeException(\"Pagamento n√£o encontrado!\");\n            }\n\n        } catch (SQLException e) {\n            throw new RuntimeException(\"Erro ao remover pagamento: \" + e.getMessage(), e);\n        }\n    }\n}","size_bytes":4207},"src/main/java/br/com/pedija/parceiro/view/TelaPerfilParceiro.java":{"content":"package br.com.pedija.parceiro.view;\n\nimport br.com.pedija.parceiro.controller.ParceiroController;\nimport br.com.pedija.parceiro.controller.ProdutoController;\nimport br.com.pedija.superadm.model.Parceiro;\n\n\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class TelaPerfilParceiro {\n    private Scanner sc;\n    private Parceiro parceiro;\n    private ProdutoController produtoController;\n    private ParceiroController parceiroController;\n\n    public TelaPerfilParceiro(Parceiro parceiro) {\n        this.sc = new Scanner(System.in);\n        this.parceiro = parceiro;\n        this.produtoController = new ProdutoController();\n        this.parceiroController = new ParceiroController();\n    }\n\n    public void exibirPerfilParceiro() {\n        int opcao = -1;\n\n        do {\n            System.out.println(\"------------------------------\");\n            System.out.println(\"MINHA LOJA - \" + parceiro.getNome());\n            System.out.println(\"------------------------------\");\n            System.out.println(\" 1 - Ver Inform√ß√µes e Dados\");\n            System.out.println(\" 2 - Relatorio e Estatisticas\");\n            System.out.println(\" 3 - Horario de Funcionamento\");\n            System.out.println(\" 4 - Forma de Pagamento\");\n            System.out.println(\" 0 - Voltar\");\n            System.out.println(\"------------------------------\");\n            System.out.print(\"Escolha uma op√ß√£o: \");\n\n            try {\n\n                opcao = sc.nextInt();\n                sc.nextLine();\n\n                Opcao(opcao);\n\n            } catch (Exception e) {\n                System.out.println(\" Entrada inv√°lida!\");\n                sc.nextLine();\n\n            }\n\n        } while (opcao != 0);\n    }\n\n    private void Opcao(int opcao) {\n        switch (opcao) {\n            case 1:\n                exibirInfoParceiro();\n                break;\n            case 2:\n                TelaRelatorioParceiro telaRelatorio = new TelaRelatorioParceiro(parceiro);\n                telaRelatorio.menuRelatorio();\n                break;\n            case 3:\n                horarioFuncionamento();\n                break;\n            case 4:\n                exibirFormasPagamento();\n                break;\n            case 0:\n                System.out.println(\"Voltando...\");\n                break;\n            default:\n                System.out.println(\" Op√ß√£o inv√°lida!\");\n\n        }\n    }\n\n    public void exibirInfoParceiro() {\n        System.out.println(\"DADOS PESSOAIS\");\n\n        System.out.println(\"Nome: \" + parceiro.getNome());\n        System.out.println(\"CNPJ: \" + parceiro.getCnpj());\n        System.out.println(\"Email: \" + parceiro.getEmail());\n        System.out.println(\"Telefone: \" + parceiro.getTelefone());\n        System.out.println(\"Endere√ßo Completo:\\n Cidade: \" + parceiro.getCidade() + \" CEP: \" + parceiro.getCep() + \" Estado: \" + parceiro.getEstado() + \" Bairro: \" + parceiro.getBairro() + \" Numero: \" + parceiro.getNumero());\n        System.out.println(\"Categoria: \" + parceiro.getCategoria());\n        System.out.println(\" Taxa e tempo: \" + parceiro.getTaxaEntrega());//adicionar login\n    }\n\n    public void horarioFuncionamento() {\n        System.out.println(\"Hor√°rio de Funcionamento \" + parceiro.getNome());\n        System.out.println(\"Segunda a sexta: \" + parceiro.getHorarioSemana());\n        System.out.println(\"S√°bado e domingo: \" + parceiro.getHorarioFimSemana());\n\n        System.out.println(\"\\nDeseja editar o hor√°rio de funcionamento? (S/N)\");\n        String resposta = sc.nextLine();\n\n        if (!resposta.equalsIgnoreCase(\"S\")) {\n            return;\n        }\n\n        System.out.println(\"[1] Editar hor√°rio de segunda a sexta\");\n        System.out.println(\"[2] Editar hor√°rio de s√°bado e domingo\");\n        System.out.print(\"Escolha uma op√ß√£o: \");\n\n        int opcao = sc.nextInt();\n        sc.nextLine();\n\n        switch (opcao) {\n\n            case 1:\n                System.out.println(\"Hor√°rio atual: \" + parceiro.getHorarioSemana());\n                System.out.print(\"Digite o novo hor√°rio (ex: 08:00 √†s 17:00): \");\n                String novoSemana = sc.nextLine();\n\n                parceiro.setHorarioSemana(novoSemana);\n                parceiroController.atualizar(parceiro);\n\n                System.out.println(\"Novo hor√°rio de semana definido!\");\n                break;\n\n            case 2:\n                System.out.println(\"Hor√°rio atual: \" + parceiro.getHorarioFimSemana());\n                System.out.print(\"Digite o novo hor√°rio (ex: 08:00 √†s 15:00): \");\n                String novoFim = sc.nextLine();\n\n                parceiro.setHorarioFimSemana(novoFim);\n                parceiroController.atualizar(parceiro);\n\n                System.out.println(\"Novo hor√°rio de fim de semana definido!\");\n                break;\n\n            default:\n                System.out.println(\"Op√ß√£o inv√°lida!\");\n        }\n    }\n\n    public void exibirFormasPagamento() {\n\n        System.out.println(\"\\n FORMAS DE PAGAMENTO ACEITAS:\");\n        System.out.println(\"-------------------------\");\n\n        List<String> formas = parceiro.getFormasPagamento();\n\n        if (formas == null || formas.isEmpty()) {\n            System.out.println(\"Nenhuma forma de pagamento cadastrada.\");\n        } else {\n            System.out.println(String.join(\", \", formas));\n        }\n\n        System.out.println(\"---------------------\");\n    }\n\n}","size_bytes":5378},"src/main/java/br/com/pedija/superadm/view/EscolherAppview.java":{"content":"package br.com.pedija.superadm.view;\n\nimport br.com.pedija.consumidor.view.TelaLoginConsumidor;\nimport br.com.pedija.parceiro.view.TelaLoginParceiro;\n\nimport java.util.Scanner;\n\npublic class EscolherAppview {\n\n    TelaLoginConsumidor menuconsumidor = new TelaLoginConsumidor();\n    TelaLoginParceiro telaLoginParceiro = new TelaLoginParceiro();\n\n    Scanner sc = new Scanner(System.in);\n    int opcao = -1;\n\n    public EscolherAppview() {}\n    public void EscolherAppview() {\n        do {\n            System.out.println(\"------------------------------\");\n            System.out.println(\" 1 - Parceiro                 \");\n            System.out.println(\" 2 - Consumidor               \");\n            System.out.println(\" 0 - Sair                     \");\n            System.out.println(\"------------------------------\");\n\n            System.out.print(\"\\n Escolha uma op√ß√£o: \");\n\n            try {\n\n                opcao = sc.nextInt();\n                resultadoOpcao(opcao);\n\n            } catch (Exception erro) {\n                System.out.println(\"Op√ß√£o inv√°lida!\");\n                sc.nextLine(); // limpa o buffer\n            }\n\n        } while (opcao != 0);\n    }\n\n    private void resultadoOpcao(int opcao) {\n        switch (opcao) {\n            case 1:\n                System.out.println(\"Op√ß√£o parceiro escolhida!\");\n                telaLoginParceiro.exibir();\n                break;\n\n            case 2:\n                System.out.println(\"Op√ß√£o consumidor escolhida!\");\n                menuconsumidor.exibirLogin();\n                break;\n            case 0:\n                System.out.println(\"Saindo...\");\n                break;\n            default:\n                System.out.println(\"Op√ß√£o inv√°lida!\");\n                break;\n        }\n    }\n}","size_bytes":1768},"src/main/java/br/com/pedija/consumidor/view/TelaLoginConsumidor.java":{"content":"package br.com.pedija.consumidor.view;\n\n\nimport br.com.pedija.consumidor.controller.UsuarioController;\nimport br.com.pedija.parceiro.view.MenuPrincipalParceiro;\nimport br.com.pedija.superadm.model.Usuario;\nimport java.util.Scanner;\nimport br.com.pedija.superadm.dao.UsuarioDAO;\n\n\npublic class TelaLoginConsumidor {\n\n    UsuarioDAO usuarioDAO = new UsuarioDAO();\n    private final Scanner sc;\n    private final UsuarioController controller;\n    private int opcao = -1;\n\n\n    public TelaLoginConsumidor(){\n        this.sc = new Scanner(System.in);\n        this.controller = new UsuarioController();\n    }\n\n    public void exibirLogin() {\n\n\n        do {\n            System.out.println(\"=====PEDIJ√Å - CONSUMIDOR=====\");\n            System.out.println(\"[1] ENTRAR\");\n            System.out.println(\"[2] CADASTRAR\");\n            System.out.println(\"[0] VOLTAR\");\n            System.out.print(\"\\n Escolha uma op√ß√£o: \");\n\n\n            try {\n\n                String line = sc.nextLine().trim();\n\n                if (line.isEmpty()) {\n                    System.out.println(\"Op√ß√£o inv√°lida! Digite um n√∫mero.\");\n                    continue;\n\n                }\n                opcao = Integer.parseInt(line);\n\n\n                if (opcao == 1) {\n\n                    entrar();\n                    break;\n                }\n\n                if (opcao == 2) {\n                    cadastrar();\n                    break;\n                }\n\n                if (opcao != 0) {\n                    System.out.println(\"Op√ß√£o inv√°lida!\");\n                    break;\n                }\n\n\n            } catch (NumberFormatException erro) {\n                System.out.println(\"Op√ß√£o inv√°lida! Digite apenas n√∫meros.\");\n            }\n\n        } while (opcao != 0);\n    }\n\n\n    private void entrar(){\n\n        System.out.println(\"Digite seu Email: \");\n        String email = sc.nextLine();\n\n        System.out.println(\"Digite seu telefone: \");\n        String telefone = sc.nextLine();\n\n        Usuario usuariologado = usuarioDAO.login(email, telefone);\n\n\n        if (usuariologado != null) {\n\n            System.out.println(\"Login realizado com sucesso! Bem-vindo \" + usuariologado.getNome());\n            MenuPrincipalConsumidorView menu = new MenuPrincipalConsumidorView(usuariologado);\n            menu.exibirMenuCliente();\n\n        }\n        else {\n            System.out.println(\"Email ou senha inv√°lidos!\");\n        }\n    }\n\n\n    private void cadastrar(){\n\n\n        Usuario novoConsumidor = new Usuario();\n\n        System.out.print(\"Email: \");\n        novoConsumidor.setEmail(sc.nextLine());\n\n\n        System.out.print(\"Telefone: \");\n        novoConsumidor.setTelefone(sc.nextLine());\n\n\n        System.out.print(\"CPF: \");\n        novoConsumidor.setCpf(sc.nextLine());\n\n\n        System.out.print(\"Nome: \");\n        novoConsumidor.setNome(sc.nextLine());\n\n\n        System.out.print(\"Endere√ßo: \");\n        novoConsumidor.setEndereco(sc.nextLine());\n\n\n        boolean resposta = controller.cadastrar(novoConsumidor);\n\n\n        if(resposta){\n            System.out.println(\"CADASTRO REALIZADO COM SUCESSO!\");\n            System.out.println(\"BEM-VINDO AO PEDIJ√Å!\");\n            MenuPrincipalConsumidorView view = new MenuPrincipalConsumidorView(novoConsumidor);\n            view.exibirMenuCliente();\n        }\n\n        this.opcao = 0;\n    }\n\n}","size_bytes":3333},"src/main/java/br/com/pedija/parceiro/controller/PedidoController.java":{"content":"package br.com.pedija.parceiro.controller;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\nimport br.com.pedija.superadm.model.Pedido;\nimport br.com.pedija.superadm.dao.PedidoDAO;\n\npublic class PedidoController {\n\n\n    PedidoDAO pedidoDAO = new PedidoDAO();\n    Pedido pedido =  new Pedido();\n\n\n    public List<Pedido> listarPedidos() {\n\n            List<Pedido> pedidos = pedidoDAO.listarTodos();\n\n    return pedidos;\n    }\n\n\n\n    public Pedido buscarPorId(int id) {\n\n        return pedidoDAO.buscarPorId(id);\n\n    }\n\n\n    public boolean atualizarStatus(int id, String novoStatus) {\n        Pedido p = buscarPorId(id);\n        if (p != null) {\n            p.setStatus(novoStatus); // faltava isso!\n            pedidoDAO.atualizar(p);\n            return true;\n        }\n        return false;\n    }\n\n\n\n    public List<Pedido> listarPendentes() {\n\n            return pedidoDAO.buscarPorStatus(\"PENDENTE\");\n\n\n    }\n\n\n    public List<Pedido> listarEmPreparo() {\n\n            return pedidoDAO.buscarPorStatus(\"EM PREPARO\");\n\n\n    }\n\n\n    public List<Pedido> listarAguardandoEntregador(int idParceiro) {\n        List<Pedido> resultado = new ArrayList<>();\n\n\n        for (Pedido p : resultado)\n\n\n            if (p.getIdParceiro() == idParceiro &&\n                    p.getStatus().equals(\"PRONTO\") &&\n                    p.getIdEntregador() == 0) {\n                resultado.add(p);\n            }\n\n\n        return resultado;\n    }\n\n\n    public List<Pedido> listarEmEntrega() {\n\n            return pedidoDAO.buscarPorStatus(\"Em ENTREGA\");\n\n    }\n\n\n    public List<Pedido> listarProntos() {\n\n            return pedidoDAO.buscarPorStatus(\"PRONTO\");\n\n    }\n\n\n\n\n\n\n    public boolean atribuirEntregador(int idPedido, int idEntregador) {\n        Pedido p = buscarPorId(idPedido);\n\n\n        if (p != null) {\n            p.setIdEntregador(idEntregador);\n            p.setStatus(\"EM_ENTREGA\");\n            return true;\n        }\n\n\n        return false;\n    }\n\n\n\n\n\n\n\n\n    public int contarPedidosPendentes() {\n        int contador = 0;\n\n\n        List<Pedido> prontos = listarPendentes();\n\n\n        for (Pedido p : prontos) {\n            contador++;\n        }\n        return contador;\n    }\n\n\n    public int contarPedidosEmPreparo() {\n        int contador = 0;\n\n\n        List<Pedido> prontos = listarEmPreparo();\n\n\n        for (Pedido p : prontos) {\n            contador++;\n        }\n        return contador;\n    }\n\n\n\n\n    public int contarPedidosProntos() {\n        int contador = 0;\n\n\n        List<Pedido> prontos = listarProntos();\n\n\n        for (Pedido p : prontos) {\n            contador++;\n        }\n        return contador;\n    }\n    public double calcularFaturamentoTotal(int idParceiro) {\n\n\n        double soma = 0.0;\n\n\n        List<Pedido> prontos = listarProntos();\n\n\n        for (Pedido p : prontos) {\n            soma += p.getValorTotal();\n        }\n        return soma;\n    }\n\n\n}\n\n\n\n","size_bytes":2885}},"version":2}